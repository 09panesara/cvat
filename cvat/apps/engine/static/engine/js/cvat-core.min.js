window.cvat=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=137)}([function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(29))},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(29))},function(t,e,n){var r=n(0),o=n(43),i=n(88),a=n(145),s=r.Symbol,c=o("wks");t.exports=function(t){return c[t]||(c[t]=a&&s[t]||(a?s:i)("Symbol."+t))}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(13);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){"use strict";var r=n(42),o=n(156),i=n(34),a=n(24),s=n(103),c=a.set,u=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){n(11),(()=>{const e=n(161),r=n(163),o=n(66);class i extends Error{constructor(t){super(t);const n=(new Date).toISOString(),i=e.os.toString(),a=`${e.name} ${e.version}`,s=r.parse(this)[0],c=`${s.fileName}`,u=s.lineNumber,l=s.columnNumber,{jobID:f,taskID:p,clientID:h}=o;Object.defineProperties(this,Object.freeze({system:{get:()=>i},client:{get:()=>a},time:{get:()=>n},jobID:{get:()=>f},taskID:{get:()=>p},projID:{get:()=>void 0},clientID:{get:()=>h},filename:{get:()=>c},line:{get:()=>u},column:{get:()=>l}}))}async save(){const t={system:this.system,client:this.client,time:this.time,job_id:this.jobID,task_id:this.taskID,proj_id:this.projID,client_id:this.clientID,message:this.message,filename:this.filename,line:this.line,column:this.column,stack:this.stack};try{const e=n(25);await e.server.exception(t)}catch(t){}}}t.exports={Exception:i,ArgumentError:class extends i{constructor(t){super(t)}},DataError:class extends i{constructor(t){super(t)}},ScriptingError:class extends i{constructor(t){super(t)}},PluginError:class extends i{constructor(t){super(t)}},ServerError:class extends i{constructor(t,e){super(t),Object.defineProperties(this,Object.freeze({code:{get:()=>e}}))}}}})()},function(t,e,n){"use strict";var r=n(108),o=n(184),i=Object.prototype.toString;function a(t){return"[object Array]"===i.call(t)}function s(t){return null!==t&&"object"==typeof t}function c(t){return"[object Function]"===i.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:c,isStream:function(t){return s(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return e},extend:function(t,e,n){return u(e,(function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){var r=n(1),o=n(51),i=n(119),a=n(208),s=r.Symbol,c=o("wks");t.exports=function(t){return c[t]||(c[t]=a&&s[t]||(a?s:i)("Symbol."+t))}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(0),o=n(160),i=n(5),a=n(14),s=n(2),c=s("iterator"),u=s("toStringTag"),l=i.values;for(var f in o){var p=r[f],h=p&&p.prototype;if(h){if(h[c]!==l)try{a(h,c,l)}catch(t){h[c]=l}if(h[u]||a(h,u,f),o[f])for(var d in i)if(h[d]!==i[d])try{a(h,d,i[d])}catch(t){h[d]=i[d]}}}},function(t,e,n){"use strict";var r,o,i,a,s=n(17),c=n(31),u=n(0),l=n(90),f=n(144),p=n(21),h=n(94),d=n(32),b=n(146),m=n(13),g=n(33),v=n(64),y=n(23),w=n(147),x=n(149),k=n(150),O=n(97).set,S=n(151),j=n(152),_=n(153),T=n(99),A=n(154),P=n(65),E=n(24),C=n(93),I=n(2)("species"),F="Promise",M=E.get,N=E.set,$=E.getterFor(F),D=f,R=u.TypeError,U=u.document,L=u.process,B=u.fetch,z=L&&L.versions,q=z&&z.v8||"",G=T.f,W=G,J="process"==y(L),V=!!(U&&U.createEvent&&u.dispatchEvent),H=C(F,(function(){var t=D.resolve(1),e=function(){},n=(t.constructor={})[I]=function(t){t(e,e)};return!((J||"function"==typeof PromiseRejectionEvent)&&(!c||t.finally)&&t.then(e)instanceof n&&0!==q.indexOf("6.6")&&-1===P.indexOf("Chrome/66"))})),X=H||!x((function(t){D.all(t).catch((function(){}))})),K=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},Z=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;S((function(){for(var o=e.value,i=1==e.state,a=0;r.length>a;){var s,c,u,l=r[a++],f=i?l.ok:l.fail,p=l.resolve,h=l.reject,d=l.domain;try{f?(i||(2===e.rejection&&et(t,e),e.rejection=1),!0===f?s=o:(d&&d.enter(),s=f(o),d&&(d.exit(),u=!0)),s===l.promise?h(R("Promise-chain cycle")):(c=K(s))?c.call(s,p,h):p(s)):h(o)}catch(t){d&&!u&&d.exit(),h(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Q(t,e)}))}},Y=function(t,e,n){var r,o;V?((r=U.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},(o=u["on"+t])?o(r):"unhandledrejection"===t&&_("Unhandled promise rejection",n)},Q=function(t,e){O.call(u,(function(){var n,r=e.value;if(tt(e)&&(n=A((function(){J?L.emit("unhandledRejection",r,t):Y("unhandledrejection",t,r)})),e.rejection=J||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){O.call(u,(function(){J?L.emit("rejectionHandled",t):Y("rejectionhandled",t,e.value)}))},nt=function(t,e,n,r){return function(o){t(e,n,o,r)}},rt=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,Z(t,e,!0))},ot=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw R("Promise can't be resolved itself");var o=K(n);o?S((function(){var r={done:!1};try{o.call(n,nt(ot,t,r,e),nt(rt,t,r,e))}catch(n){rt(t,r,n,e)}})):(e.value=n,e.state=1,Z(t,e,!1))}catch(n){rt(t,{done:!1},n,e)}}};H&&(D=function(t){v(this,D,F),g(t),r.call(this);var e=M(this);try{t(nt(ot,this,e),nt(rt,this,e))}catch(t){rt(this,e,t)}},(r=function(t){N(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(D.prototype,{then:function(t,e){var n=$(this),r=G(k(this,D));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=J?L.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Z(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=M(t);this.promise=t,this.resolve=nt(ot,t,e),this.reject=nt(rt,t,e)},T.f=G=function(t){return t===D||t===i?new o(t):W(t)},c||"function"!=typeof f||(a=f.prototype.then,p(f.prototype,"then",(function(t,e){var n=this;return new D((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof B&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return j(D,B.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:H},{Promise:D}),d(D,F,!1,!0),b(F),i=l.Promise,s({target:F,stat:!0,forced:H},{reject:function(t){var e=G(this);return e.reject.call(void 0,t),e.promise}}),s({target:F,stat:!0,forced:c||H},{resolve:function(t){return j(c&&this===i?D:this,t)}}),s({target:F,stat:!0,forced:X},{all:function(t){var e=this,n=G(e),r=n.resolve,o=n.reject,i=A((function(){var n=g(e.resolve),i=[],a=0,s=1;w(t,(function(t){var c=a++,u=!1;i.push(void 0),s++,n.call(e,t).then((function(t){u||(u=!0,i[c]=t,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=G(e),r=n.reject,o=A((function(){var o=g(e.resolve);w(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(3);t.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(12),o=n(20),i=n(41);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(22);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(0),o=n(57).f,i=n(14),a=n(21),s=n(60),c=n(89),u=n(93);t.exports=function(t,e){var n,l,f,p,h,d=t.target,b=t.global,m=t.stat;if(n=b?r:m?r[d]||s(d,{}):(r[d]||{}).prototype)for(l in e){if(p=e[l],f=t.noTargetGet?(h=o(n,l))&&h.value:n[l],!u(b?l:d+(m?".":"#")+l,t.forced)&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(t.sham||f&&f.sham)&&i(p,"sham",!0),a(n,l,p,t)}}},function(t,e,n){var r=n(27),o=n(38),i=n(75);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(12),o=n(86),i=n(4),a=n(58),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(0),o=n(43),i=n(14),a=n(9),s=n(60),c=n(87),u=n(24),l=u.get,f=u.enforce,p=String(c).split("toString");o("inspectSource",(function(t){return c.call(t)})),(t.exports=function(t,e,n,o){var c=!!o&&!!o.unsafe,u=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||i(n,"name",e),f(n).source=p.join("string"==typeof e?e:"")),t!==r?(c?!l&&t[e]&&(u=!0):delete t[e],u?t[e]=n:i(t,e,n)):u?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||c.call(this)}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r,o,i,a=n(139),s=n(0),c=n(13),u=n(14),l=n(9),f=n(61),p=n(62),h=s.WeakMap;if(a){var d=new h,b=d.get,m=d.has,g=d.set;r=function(t,e){return g.call(d,t,e),e},o=function(t){return b.call(d,t)||{}},i=function(t){return m.call(d,t)}}else{var v=f("state");p[v]=!0,r=function(t,e){return u(t,v,e),e},o=function(t){return l(t,v)?t[v]:{}},i=function(t){return l(t,v)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){n(11),n(165),(()=>{const e=n(170),{ServerError:r}=n(6),o=n(171),i=n(66);function a(t,e){if(t.response){const n=`${e}. `+`${t.message}. ${JSON.stringify(t.response.data)||""}.`;return new r(n,t.response.status)}const n=`${e}. `+`${t.message}.`;return new r(n,0)}const s=new class{constructor(){const s=n(182);s.defaults.withCredentials=!0,s.defaults.xsrfHeaderName="X-CSRFTOKEN",s.defaults.xsrfCookieName="csrftoken";let c=o.get("token");async function u(t=""){const{backendAPI:e}=i;let n=null;try{n=await s.get(`${e}/tasks?${t}`,{proxy:i.proxy})}catch(t){throw a(t,"Could not get tasks from a server")}return n.data.results.count=n.data.count,n.data.results}async function l(t){const{backendAPI:e}=i;try{await s.delete(`${e}/tasks/${t}`)}catch(t){throw a(t,"Could not delete the task from the server")}}c&&(s.defaults.headers.common.Authorization=`Token ${c}`),Object.defineProperties(this,Object.freeze({server:{value:Object.freeze({about:async function(){const{backendAPI:t}=i;let e=null;try{e=await s.get(`${t}/server/about`,{proxy:i.proxy})}catch(t){throw a(t,'Could not get "about" information from the server')}return e.data},share:async function(t){const{backendAPI:e}=i;t=encodeURIComponent(t);let n=null;try{n=await s.get(`${e}/server/share?directory=${t}`,{proxy:i.proxy})}catch(t){throw a(t,'Could not get "share" information from the server')}return n.data},formats:async function(){const{backendAPI:t}=i;let e=null;try{e=await s.get(`${t}/server/annotation/formats`,{proxy:i.proxy})}catch(t){throw a(t,"Could not get annotation formats from the server")}return e.data},exception:async function(t){const{backendAPI:e}=i;try{await s.post(`${e}/server/exception`,JSON.stringify(t),{proxy:i.proxy,headers:{"Content-Type":"application/json"}})}catch(t){throw a(t,"Could not send an exception to the server")}},login:async function(t,e){const n=[`${encodeURIComponent("username")}=${encodeURIComponent(t)}`,`${encodeURIComponent("password")}=${encodeURIComponent(e)}`].join("&").replace(/%20/g,"+");let r=null;try{r=await s.post(`${i.backendAPI}/auth/login`,n,{proxy:i.proxy})}catch(t){throw a(t,"Could not login on a server")}if(r.headers["set-cookie"]){const t=r.headers["set-cookie"].join(";");s.defaults.headers.common.Cookie=t}c=r.data.key,o.set("token",c),s.defaults.headers.common.Authorization=`Token ${c}`},logout:async function(){try{await s.post(`${i.backendAPI}/auth/logout`,{proxy:i.proxy})}catch(t){throw a(t,"Could not logout from the server")}o.remove("token"),s.defaults.headers.common.Authorization=""},authorized:async function(){try{await t.exports.users.getSelf()}catch(t){if(401===t.code)return!1;throw t}return!0},register:async function(t,e,n,r,o,c){let u=null;try{const a=JSON.stringify({username:t,first_name:e,last_name:n,email:r,password1:o,password2:c});u=await s.post(`${i.backendAPI}/auth/register`,a,{proxy:i.proxy,headers:{"Content-Type":"application/json"}})}catch(e){throw a(e,`Could not register '${t}' user on the server`)}return u.data}}),writable:!1},tasks:{value:Object.freeze({getTasks:u,saveTask:async function(t,e){const{backendAPI:n}=i;try{await s.patch(`${n}/tasks/${t}`,JSON.stringify(e),{proxy:i.proxy,headers:{"Content-Type":"application/json"}})}catch(t){throw a(t,"Could not save the task on the server")}},createTask:async function(t,n,o){const{backendAPI:c}=i,f=new e;for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))if(Array.isArray(n[t]))for(let e=0;e<n[t].length;e++)f.append(`${t}[${e}]`,n[t][e]);else f.set(t,n[t]);let p=null;o("The task is being created on the server..");try{p=await s.post(`${c}/tasks`,JSON.stringify(t),{proxy:i.proxy,headers:{"Content-Type":"application/json"}})}catch(t){throw a(t,"Could not put task to the server")}o("The data is being uploaded to the server..");try{await s.post(`${c}/tasks/${p.data.id}/data`,f,{proxy:i.proxy})}catch(t){try{await l(p.data.id)}catch(t){}throw a(t,"Could not put data to the server")}try{await async function(t){return new Promise((e,n)=>{setTimeout((async function i(){try{const a=await s.get(`${c}/tasks/${t}/status`);if(["Queued","Started"].includes(a.data.state))""!==a.data.message&&o(a.data.message),setTimeout(i,1e3);else if("Finished"===a.data.state)e();else if("Failed"===a.data.state){const t="Could not create the task on the server. "+`${a.data.message}.`;n(new r(t,400))}else n(new r(`Unknown task state has been received: ${a.data.state}`,500))}catch(t){n(a(t,"Could not put task to the server"))}}),1e3)})}(p.data.id)}catch(t){throw await l(p.data.id),t}return(await u(`?id=${p.id}`))[0]},deleteTask:l}),writable:!1},jobs:{value:Object.freeze({getJob:async function(t){const{backendAPI:e}=i;let n=null;try{n=await s.get(`${e}/jobs/${t}`,{proxy:i.proxy})}catch(t){throw a(t,"Could not get jobs from a server")}return n.data},saveJob:async function(t,e){const{backendAPI:n}=i;try{await s.patch(`${n}/jobs/${t}`,JSON.stringify(e),{proxy:i.proxy,headers:{"Content-Type":"application/json"}})}catch(t){throw a(t,"Could not save the job on the server")}}}),writable:!1},users:{value:Object.freeze({getUsers:async function(t=null){const{backendAPI:e}=i;let n=null;try{n=null===t?await s.get(`${e}/users`,{proxy:i.proxy}):await s.get(`${e}/users/${t}`,{proxy:i.proxy})}catch(t){throw a(t,"Could not get users from the server")}return n.data.results},getSelf:async function(){const{backendAPI:t}=i;let e=null;try{e=await s.get(`${t}/users/self`,{proxy:i.proxy})}catch(t){throw a(t,"Could not get user data from the server")}return e.data}}),writable:!1},frames:{value:Object.freeze({getData:async function(t,e){const{backendAPI:n}=i;let r=null;try{r=await s.get(`${n}/tasks/${t}/frames/chunk/${e}`,{proxy:i.proxy,responseType:"arraybuffer"})}catch(n){throw a(n,`Could not get chunk ${e} for the task ${t} from the server`)}return r.data},getMeta:async function(t){const{backendAPI:e}=i;let n=null;try{n=await s.get(`${e}/tasks/${t}/frames/meta`,{proxy:i.proxy})}catch(e){throw a(e,`Could not get frame meta info for the task ${t} from the server`)}return n.data},getPreview:async function(t){const{backendAPI:e}=i;let n=null;try{n=await s.get(`${e}/tasks/${t}/frames/0`,{proxy:i.proxy,responseType:"blob"})}catch(e){const n=e.response?e.response.status:e.code;throw new r(`Could not get preview frame for the task ${t} from the server`,n)}return n.data}}),writable:!1},annotations:{value:Object.freeze({updateAnnotations:async function(t,e,n,r){const{backendAPI:o}=i;let c=null,u=null;"PUT"===r.toUpperCase()?(c=s.put.bind(s),u=`${o}/${t}s/${e}/annotations`):(c=s.patch.bind(s),u=`${o}/${t}s/${e}/annotations?action=${r}`);let l=null;try{l=await c(u,JSON.stringify(n),{proxy:i.proxy,headers:{"Content-Type":"application/json"}})}catch(n){throw a(n,`Could not ${r} annotations for the ${t} ${e} on the server`)}return l.data},getAnnotations:async function(t,e){const{backendAPI:n}=i;let r=null;try{r=await s.get(`${n}/${t}s/${e}/annotations`,{proxy:i.proxy})}catch(n){throw a(n,`Could not get annotations for the ${t} ${e} from the server`)}return r.data},dumpAnnotations:async function(t,e,n){const{backendAPI:r}=i,o=e.replace(/\//g,"_");let c=`${r}/tasks/${t}/annotations/${o}?format=${n}`;return new Promise((e,n)=>{setTimeout((async function r(){try{202===(await s.get(`${c}`,{proxy:i.proxy})).status?setTimeout(r,3e3):e(c=`${c}&action=download`)}catch(e){n(a(e,`Could not dump annotations for the task ${t} from the server`))}}))})},uploadAnnotations:async function(t,n,r,o){const{backendAPI:c}=i;let u=new e;return u.append("annotation_file",r),new Promise((r,l)=>{setTimeout((async function f(){try{202===(await s.put(`${c}/${t}s/${n}/annotations?format=${o}`,u,{proxy:i.proxy})).status?(u=new e,setTimeout(f,3e3)):r()}catch(e){l(a(e,`Could not upload annotations for the ${t} ${n}`))}}))})}}),writable:!1}}))}};t.exports=s})()},function(t,e,n){(function(e){var n=Object.assign?Object.assign:function(t,e,n,r){for(var o=1;o<arguments.length;o++)s(Object(arguments[o]),(function(e,n){t[n]=e}));return t},r=function(){if(Object.create)return function(t,e,r,o){var i=a(arguments,1);return n.apply(this,[Object.create(t)].concat(i))};{function t(){}return function(e,r,o,i){var s=a(arguments,1);return t.prototype=e,n.apply(this,[new t].concat(s))}}}(),o=String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},i="undefined"!=typeof window?window:e;function a(t,e){return Array.prototype.slice.call(t,e||0)}function s(t,e){c(t,(function(t,n){return e(t,n),!1}))}function c(t,e){if(u(t)){for(var n=0;n<t.length;n++)if(e(t[n],n))return t[n]}else for(var r in t)if(t.hasOwnProperty(r)&&e(t[r],r))return t[r]}function u(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}t.exports={assign:n,create:r,trim:o,bind:function(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,0))}},slice:a,each:s,map:function(t,e){var n=u(t)?[]:{};return c(t,(function(t,r){return n[r]=e(t,r),!1})),n},pluck:c,isList:u,isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},isObject:function(t){return t&&"[object Object]"==={}.toString.call(t)},Global:i}}).call(this,n(29))},function(t,e,n){var r=n(15);t.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){(()=>{const e=Object.freeze({DIR:"DIR",REG:"REG"}),n=Object.freeze({ANNOTATION:"annotation",VALIDATION:"validation",COMPLETED:"completed"}),r=Object.freeze({ANNOTATION:"annotation",INTERPOLATION:"interpolation"}),o=Object.freeze({CHECKBOX:"checkbox",RADIO:"radio",SELECT:"select",NUMBER:"number",TEXT:"text"}),i=Object.freeze({TAG:"tag",SHAPE:"shape",TRACK:"track"}),a=Object.freeze({RECTANGLE:"rectangle",POLYGON:"polygon",POLYLINE:"polyline",POINTS:"points"}),s=Object.freeze({ALL:"all",SHAPE:"shape",NONE:"none"});t.exports={ShareFileType:e,TaskStatus:n,TaskMode:r,AttributeType:o,ObjectType:i,ObjectShape:a,VisibleState:s,LogType:{pasteObject:0,changeAttribute:1,dragObject:2,deleteObject:3,pressShortcut:4,resizeObject:5,sendLogs:6,saveJob:7,jumpFrame:8,drawObject:9,changeLabel:10,sendTaskInfo:11,loadJob:12,moveImage:13,zoomImage:14,lockObject:15,mergeObjects:16,copyObject:17,propagateObject:18,undoAction:19,redoAction:20,sendUserActivity:21,sendException:22,changeFrame:23,debugInfo:24,fitImage:25,rotateImage:26}}})()},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e){t.exports=!1},function(t,e,n){var r=n(20).f,o=n(9),i=n(2)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e){t.exports={}},function(t,e,n){n(155),n(5),n(11),n(10),(()=>{const{PluginError:e}=n(6),r=[];class o{static async apiWrapper(t,...n){const r=await o.list();for(const o of r){const r=o.functions.filter(e=>e.callback===t)[0];if(r&&r.enter)try{await r.enter.call(this,o,...n)}catch(t){throw t instanceof e?t:new e(`Exception in plugin ${o.name}: ${t.toString()}`)}}let i=await t.implementation.call(this,...n);for(const o of r){const r=o.functions.filter(e=>e.callback===t)[0];if(r&&r.leave)try{i=await r.leave.call(this,o,i,...n)}catch(t){throw t instanceof e?t:new e(`Exception in plugin ${o.name}: ${t.toString()}`)}}return i}static async register(t){const n=[];if("object"!=typeof t)throw new e(`Plugin should be an object, but got "${typeof t}"`);if(!("name"in t)||"string"!=typeof t.name)throw new e('Plugin must contain a "name" field and it must be a string');if(!("description"in t)||"string"!=typeof t.description)throw new e('Plugin must contain a "description" field and it must be a string');if("functions"in t)throw new e('Plugin must not contain a "functions" field');!function t(e,r){const o={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"==typeof e[n]?Object.prototype.hasOwnProperty.call(r,n)&&t(e[n],r[n]):["enter","leave"].includes(n)&&"function"==typeof r&&(e[n],1)&&(o.callback=r,o[n]=e[n]));Object.keys(o).length&&n.push(o)}(t,{cvat:this}),Object.defineProperty(t,"functions",{value:n,writable:!1}),r.push(t)}static async list(){return r}}t.exports=o})()},function(t,e,n){var r=n(30);t.exports=function(t){return Object(r(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(27),o=n(117),i=n(16),a=n(118),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(85),o=n(30);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(31),o=n(138);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.3.3",mode:r?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(90),o=n(0),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e,n){var r=n(46),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(33);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(148),o=n(34),i=n(2)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){n(5),n(11),n(200),n(10),n(71),(()=>{const e=n(35),r=n(25),{getFrame:o,getRanges:i,getPreview:a}=n(203),{ArgumentError:s}=n(6),{TaskStatus:c}=n(28),{Label:u}=n(55),l=n(69);function f(t){Object.defineProperties(t,{annotations:Object.freeze({value:{async upload(n,r){return await e.apiWrapper.call(this,t.annotations.upload,n,r)},async save(){return await e.apiWrapper.call(this,t.annotations.save)},async clear(n=!1){return await e.apiWrapper.call(this,t.annotations.clear,n)},async dump(n,r){return await e.apiWrapper.call(this,t.annotations.dump,n,r)},async statistics(){return await e.apiWrapper.call(this,t.annotations.statistics)},async put(n=[]){return await e.apiWrapper.call(this,t.annotations.put,n)},async get(n,r={}){return await e.apiWrapper.call(this,t.annotations.get,n,r)},async search(n,r,o){return await e.apiWrapper.call(this,t.annotations.search,n,r,o)},async select(n,r,o){return await e.apiWrapper.call(this,t.annotations.select,n,r,o)},async hasUnsavedChanges(){return await e.apiWrapper.call(this,t.annotations.hasUnsavedChanges)},async merge(n){return await e.apiWrapper.call(this,t.annotations.merge,n)},async split(n,r){return await e.apiWrapper.call(this,t.annotations.split,n,r)},async group(n,r=!1){return await e.apiWrapper.call(this,t.annotations.group,n,r)}},writable:!0}),frames:Object.freeze({value:{async get(n){return await e.apiWrapper.call(this,t.frames.get,n)},async ranges(){return await e.apiWrapper.call(this,t.frames.ranges)},async preview(){return await e.apiWrapper.call(this,t.frames.preview)}},writable:!0}),logs:Object.freeze({value:{async put(n,r){return await e.apiWrapper.call(this,t.logs.put,n,r)},async save(n){return await e.apiWrapper.call(this,t.logs.save,n)}},writable:!0}),actions:Object.freeze({value:{async undo(n){return await e.apiWrapper.call(this,t.actions.undo,n)},async redo(n){return await e.apiWrapper.call(this,t.actions.redo,n)},async clear(){return await e.apiWrapper.call(this,t.actions.clear)}},writable:!0}),events:Object.freeze({value:{async subscribe(n,r){return await e.apiWrapper.call(this,t.events.subscribe,n,r)},async unsubscribe(n,r=null){return await e.apiWrapper.call(this,t.events.unsubscribe,n,r)}},writable:!0})})}class p{constructor(){}}class h extends p{constructor(t){super();const e={id:void 0,assignee:void 0,status:void 0,start_frame:void 0,stop_frame:void 0,task:void 0};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&(n in t&&(e[n]=t[n]),void 0===e[n]))throw new s(`Job field "${n}" was not initialized`);Object.defineProperties(this,Object.freeze({id:{get:()=>e.id},assignee:{get:()=>e.assignee,set:t=>{if(null!==t&&!(t instanceof l))throw new s("Value must be a user instance");e.assignee=t}},status:{get:()=>e.status,set:t=>{const n=c;let r=!1;for(const e in n)if(n[e]===t){r=!0;break}if(!r)throw new s("Value must be a value from the enumeration cvat.enums.TaskStatus");e.status=t}},startFrame:{get:()=>e.start_frame},stopFrame:{get:()=>e.stop_frame},task:{get:()=>e.task}})),this.annotations={get:Object.getPrototypeOf(this).annotations.get.bind(this),put:Object.getPrototypeOf(this).annotations.put.bind(this),save:Object.getPrototypeOf(this).annotations.save.bind(this),dump:Object.getPrototypeOf(this).annotations.dump.bind(this),merge:Object.getPrototypeOf(this).annotations.merge.bind(this),split:Object.getPrototypeOf(this).annotations.split.bind(this),group:Object.getPrototypeOf(this).annotations.group.bind(this),clear:Object.getPrototypeOf(this).annotations.clear.bind(this),upload:Object.getPrototypeOf(this).annotations.upload.bind(this),select:Object.getPrototypeOf(this).annotations.select.bind(this),statistics:Object.getPrototypeOf(this).annotations.statistics.bind(this),hasUnsavedChanges:Object.getPrototypeOf(this).annotations.hasUnsavedChanges.bind(this)},this.frames={get:Object.getPrototypeOf(this).frames.get.bind(this),ranges:Object.getPrototypeOf(this).frames.ranges.bind(this),preview:Object.getPrototypeOf(this).frames.preview.bind(this)}}async save(){return await e.apiWrapper.call(this,h.prototype.save)}}class d extends p{constructor(t){super();const e={id:void 0,name:void 0,status:void 0,size:void 0,mode:void 0,owner:void 0,assignee:void 0,created_date:void 0,updated_date:void 0,bug_tracker:void 0,overlap:void 0,segment_size:void 0,z_order:void 0,image_quality:void 0,start_frame:void 0,stop_frame:void 0,frame_filter:void 0,data_chunk_size:void 0,data_chunk_type:void 0};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&n in t&&(e[n]=t[n]);if(e.labels=[],e.jobs=[],e.files=Object.freeze({server_files:[],client_files:[],remote_files:[]}),Array.isArray(t.segments))for(const n of t.segments)if(Array.isArray(n.jobs))for(const t of n.jobs){const r=new h({url:t.url,id:t.id,assignee:t.assignee,status:t.status,start_frame:n.start_frame,stop_frame:n.stop_frame,task:this});e.jobs.push(r)}if(Array.isArray(t.labels))for(const n of t.labels){const t=new u(n);e.labels.push(t)}Object.defineProperties(this,Object.freeze({id:{get:()=>e.id},name:{get:()=>e.name,set:t=>{if(!t.trim().length)throw new s("Value must not be empty");e.name=t}},status:{get:()=>e.status},size:{get:()=>e.size},mode:{get:()=>e.mode},owner:{get:()=>e.owner},assignee:{get:()=>e.assignee,set:t=>{if(null!==t&&!(t instanceof l))throw new s("Value must be a user instance");e.assignee=t}},createdDate:{get:()=>e.created_date},updatedDate:{get:()=>e.updated_date},bugTracker:{get:()=>e.bug_tracker,set:t=>{e.bug_tracker=t}},overlap:{get:()=>e.overlap,set:t=>{if(!Number.isInteger(t)||t<0)throw new s("Value must be a non negative integer");e.overlap=t}},segmentSize:{get:()=>e.segment_size,set:t=>{if(!Number.isInteger(t)||t<0)throw new s("Value must be a positive integer");e.segment_size=t}},zOrder:{get:()=>e.z_order,set:t=>{if("boolean"!=typeof t)throw new s("Value must be a boolean");e.z_order=t}},imageQuality:{get:()=>e.image_quality,set:t=>{if(!Number.isInteger(t)||t<0)throw new s("Value must be a positive integer");e.image_quality=t}},labels:{get:()=>[...e.labels],set:t=>{if(!Array.isArray(t))throw new s("Value must be an array of Labels");for(const e of t)if(!(e instanceof u))throw new s("Each array value must be an instance of Label. "+`${typeof e} was found`);e.labels=[...t]}},jobs:{get:()=>[...e.jobs]},serverFiles:{get:()=>[...e.files.server_files],set:t=>{if(!Array.isArray(t))throw new s(`Value must be an array. But ${typeof t} has been got.`);for(const e of t)if("string"!=typeof e)throw new s(`Array values must be a string. But ${typeof e} has been got.`);Array.prototype.push.apply(e.files.server_files,t)}},clientFiles:{get:()=>[...e.files.client_files],set:t=>{if(!Array.isArray(t))throw new s(`Value must be an array. But ${typeof t} has been got.`);for(const e of t)if(!(e instanceof File))throw new s(`Array values must be a File. But ${e.constructor.name} has been got.`);Array.prototype.push.apply(e.files.client_files,t)}},remoteFiles:{get:()=>[...e.files.remote_files],set:t=>{if(!Array.isArray(t))throw new s(`Value must be an array. But ${typeof t} has been got.`);for(const e of t)if("string"!=typeof e)throw new s(`Array values must be a string. But ${typeof e} has been got.`);Array.prototype.push.apply(e.files.remote_files,t)}},startFrame:{get:()=>e.start_frame,set:t=>{if(!Number.isInteger(t)||t<0)throw new s("Value must be a not negative integer");e.start_frame=t}},stopFrame:{get:()=>e.stop_frame,set:t=>{if(!Number.isInteger(t)||t<0)throw new s("Value must be a not negative integer");e.stop_frame=t}},frameFilter:{get:()=>e.frame_filter,set:t=>{if("string"!=typeof t)throw new s(`Filter value must be a string. But ${typeof t} has been got.`);e.frame_filter=t}},dataChunkSize:{get:()=>e.data_chunk_size,set:t=>{if("number"!=typeof t||t<1)throw new s(`Chunk size value must be a positive number. But value ${t} has been got.`);e.data_chunk_size=t}},dataChunkType:{get:()=>e.data_chunk_type}})),this.annotations={get:Object.getPrototypeOf(this).annotations.get.bind(this),put:Object.getPrototypeOf(this).annotations.put.bind(this),save:Object.getPrototypeOf(this).annotations.save.bind(this),dump:Object.getPrototypeOf(this).annotations.dump.bind(this),merge:Object.getPrototypeOf(this).annotations.merge.bind(this),split:Object.getPrototypeOf(this).annotations.split.bind(this),group:Object.getPrototypeOf(this).annotations.group.bind(this),clear:Object.getPrototypeOf(this).annotations.clear.bind(this),upload:Object.getPrototypeOf(this).annotations.upload.bind(this),select:Object.getPrototypeOf(this).annotations.select.bind(this),statistics:Object.getPrototypeOf(this).annotations.statistics.bind(this),hasUnsavedChanges:Object.getPrototypeOf(this).annotations.hasUnsavedChanges.bind(this)},this.frames={get:Object.getPrototypeOf(this).frames.get.bind(this),ranges:Object.getPrototypeOf(this).frames.ranges.bind(this),preview:Object.getPrototypeOf(this).frames.preview.bind(this)}}async save(t=(()=>{})){return await e.apiWrapper.call(this,d.prototype.save,t)}async delete(){return await e.apiWrapper.call(this,d.prototype.delete)}}t.exports={Job:h,Task:d};const{getAnnotations:b,putAnnotations:m,saveAnnotations:g,hasUnsavedChanges:v,mergeAnnotations:y,splitAnnotations:w,groupAnnotations:x,clearAnnotations:k,selectObject:O,annotationsStatistics:S,uploadAnnotations:j,dumpAnnotations:_}=n(246);f(h.prototype),f(d.prototype),h.prototype.save.implementation=async function(){if(this.id){const t={status:this.status};return await r.jobs.saveJob(this.id,t),this}throw new s("Can not save job without and id")},h.prototype.frames.get.implementation=async function(t){if(!Number.isInteger(t)||t<0)throw new s(`Frame must be a positive integer. Got: "${t}"`);if(t<this.startFrame||t>this.stopFrame)throw new s(`The frame with number ${t} is out of the job`);return await o(this.task.id,this.task.dataChunkSize,this.task.dataChunkType,this.task.mode,t)},h.prototype.frames.ranges.implementation=async function(){return await i(this.task.id)},h.prototype.annotations.get.implementation=async function(t,e){if(t<this.startFrame||t>this.stopFrame)throw new s(`Frame ${t} does not exist in the job`);return await b(this,t,e)},h.prototype.annotations.save.implementation=async function(t){return await g(this,t)},h.prototype.annotations.merge.implementation=async function(t){return await y(this,t)},h.prototype.annotations.split.implementation=async function(t,e){return await w(this,t,e)},h.prototype.annotations.group.implementation=async function(t,e){return await x(this,t,e)},h.prototype.annotations.hasUnsavedChanges.implementation=function(){return v(this)},h.prototype.annotations.clear.implementation=async function(t){return await k(this,t)},h.prototype.annotations.select.implementation=function(t,e,n){return O(this,t,e,n)},h.prototype.annotations.statistics.implementation=function(){return S(this)},h.prototype.annotations.put.implementation=function(t){return m(this,t)},h.prototype.annotations.upload.implementation=async function(t,e){return await j(this,t,e)},h.prototype.annotations.dump.implementation=async function(t,e){return await _(this,t,e)},d.prototype.save.implementation=async function(t){if(void 0!==this.id){const t={assignee:this.assignee?this.assignee.id:null,name:this.name,bug_tracker:this.bugTracker,z_order:this.zOrder,labels:[...this.labels.map(t=>t.toJSON())]};return await r.tasks.saveTask(this.id,t),this}const e={name:this.name,labels:this.labels.map(t=>t.toJSON()),z_order:Boolean(this.zOrder)};void 0!==this.bugTracker&&(e.bug_tracker=this.bugTracker),void 0!==this.segmentSize&&(e.segment_size=this.segmentSize),void 0!==this.overlap&&(e.overlap=this.overlap);const n={client_files:this.clientFiles,server_files:this.serverFiles,remote_files:this.remoteFiles,image_quality:this.imageQuality};void 0!==this.startFrame&&(n.start_frame=this.startFrame),void 0!==this.stopFrame&&(n.stop_frame=this.stopFrame),void 0!==this.frameFilter&&(n.frame_filter=this.frameFilter);const o=await r.tasks.createTask(e,n,t);return new d(o)},d.prototype.delete.implementation=async function(){return await r.tasks.deleteTask(this.id)},d.prototype.frames.get.implementation=async function(t){if(!Number.isInteger(t)||t<0)throw new s(`Frame must be a positive integer. Got: "${t}"`);if(t>=this.size)throw new s(`The frame with number ${t} is out of the task`);return await o(this.id,this.dataChunkSize,this.dataChunkType,this.mode,t)},h.prototype.frames.preview.implementation=async function(){return await a(this.task.id)},d.prototype.frames.ranges.implementation=async function(){return await i(this.id)},d.prototype.frames.preview.implementation=async function(){return await a(this.id)},d.prototype.annotations.get.implementation=async function(t,e){if(!Number.isInteger(t)||t<0)throw new s(`Frame must be a positive integer. Got: "${t}"`);if(t>=this.size)throw new s(`Frame ${t} does not exist in the task`);return await b(this,t,e)},d.prototype.annotations.save.implementation=async function(t){return await g(this,t)},d.prototype.annotations.merge.implementation=async function(t){return await y(this,t)},d.prototype.annotations.split.implementation=async function(t,e){return await w(this,t,e)},d.prototype.annotations.group.implementation=async function(t,e){return await x(this,t,e)},d.prototype.annotations.hasUnsavedChanges.implementation=function(){return v(this)},d.prototype.annotations.clear.implementation=async function(t){return await k(this,t)},d.prototype.annotations.select.implementation=function(t,e,n){return O(this,t,e,n)},d.prototype.annotations.statistics.implementation=function(){return S(this)},d.prototype.annotations.put.implementation=function(t){return m(this,t)},d.prototype.annotations.upload.implementation=async function(t,e){return await j(this,t,e)},d.prototype.annotations.dump.implementation=async function(t,e){return await _(this,t,e)}})()},function(t,e,n){var r=n(205),o=n(116);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(52),o=n(207);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.3.2",mode:r?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,n){var r=n(125),o=n(1),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e,n){var r=n(1),o=n(51),i=n(18),a=n(19),s=n(73),c=n(126),u=n(79),l=u.get,f=u.enforce,p=String(c).split("toString");o("inspectSource",(function(t){return c.call(t)})),(t.exports=function(t,e,n,o){var c=!!o&&!!o.unsafe,u=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||i(n,"name",e),f(n).source=p.join("string"==typeof e?e:"")),t!==r?(c?!l&&t[e]&&(u=!0):delete t[e],u?t[e]=n:i(t,e,n)):u?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||c.call(this)}))},function(t,e,n){n(5),n(10),n(71),(()=>{const{AttributeType:e}=n(28),{ArgumentError:r}=n(6);class o{constructor(t){const n={id:void 0,default_value:void 0,input_type:void 0,mutable:void 0,name:void 0,values:void 0};for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&Object.prototype.hasOwnProperty.call(t,e)&&(Array.isArray(t[e])?n[e]=[...t[e]]:n[e]=t[e]);if(!Object.values(e).includes(n.input_type))throw new r(`Got invalid attribute type ${n.input_type}`);Object.defineProperties(this,Object.freeze({id:{get:()=>n.id},defaultValue:{get:()=>n.default_value},inputType:{get:()=>n.input_type},mutable:{get:()=>n.mutable},name:{get:()=>n.name},values:{get:()=>[...n.values]}}))}toJSON(){const t={name:this.name,mutable:this.mutable,input_type:this.inputType,default_value:this.defaultValue,values:this.values};return void 0!==this.id&&(t.id=this.id),t}}t.exports={Attribute:o,Label:class{constructor(t){const e={id:void 0,name:void 0};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);if(e.attributes=[],Object.prototype.hasOwnProperty.call(t,"attributes")&&Array.isArray(t.attributes))for(const n of t.attributes)e.attributes.push(new o(n));Object.defineProperties(this,Object.freeze({id:{get:()=>e.id},name:{get:()=>e.name},attributes:{get:()=>[...e.attributes]}}))}toJSON(){const t={name:this.name,attributes:[...this.attributes.map(t=>t.toJSON())]};return void 0!==this.id&&(t.id=this.id),t}}}})()},function(t,e,n){(()=>{const{ArgumentError:e}=n(6);t.exports={isBoolean:function(t){return"boolean"==typeof t},isInteger:function(t){return"number"==typeof t&&Number.isInteger(t)},isEnum:function(t){for(const e in this)if(Object.prototype.hasOwnProperty.call(this,e)&&this[e]===t)return!0;return!1},isString:function(t){return"string"==typeof t},checkFilter:function(t,n){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(!(r in n))throw new e(`Unsupported filter property has been recieved: "${r}"`);if(!n[r](t[r]))throw new e(`Received filter property "${r}" is not satisfied for checker`)}},checkObjectType:function(t,n,r,o){if(r){if(typeof n!==r){if("integer"===r&&Number.isInteger(n))return;throw new e(`"${t}" is expected to be "${r}", but "${typeof n}" has been got.`)}}else if(o&&!(n instanceof o)){if(void 0!==n)throw new e(`"${t}" is expected to be ${o.name}, but `+`"${n.constructor.name}" has been got`);throw new e(`"${t}" is expected to be ${o.name}, but "undefined" has been got.`)}}}})()},function(t,e,n){var r=n(12),o=n(84),i=n(41),a=n(42),s=n(58),c=n(9),u=n(86),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var r=n(13);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(0),o=n(13),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(0),o=n(14);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(43),o=n(88),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e){t.exports={}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(44);t.exports=r("navigator","userAgent")||""},function(t,e){t.exports={backendAPI:"http://localhost:7000/api/v1",proxy:!1,taskID:void 0,jobID:void 0,clientID:+Date.now().toString().substr(-6)}},function(t,e,n){var r=n(46),o=n(30),i=function(t){return function(e,n){var i,a,s=String(o(e)),c=r(n),u=s.length;return c<0||c>=u?t?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):i:t?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e,n){"use strict";(function(e){var r=n(7),o=n(186),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,c={adapter:("undefined"!=typeof XMLHttpRequest?s=n(110):void 0!==e&&(s=n(110)),s),transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){c.headers[t]=r.merge(i)})),t.exports=c}).call(this,n(109))},function(t,e){t.exports=class{constructor(t){const e={id:null,username:null,email:null,first_name:null,last_name:null,groups:null,last_login:null,date_joined:null,is_staff:null,is_superuser:null,is_active:null};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&n in t&&(e[n]=t[n]);Object.defineProperties(this,Object.freeze({id:{get:()=>e.id},username:{get:()=>e.username},email:{get:()=>e.email},firstName:{get:()=>e.first_name},lastName:{get:()=>e.last_name},groups:{get:()=>JSON.parse(JSON.stringify(e.groups))},lastLogin:{get:()=>e.last_login},dateJoined:{get:()=>e.date_joined},isStaff:{get:()=>e.is_staff},isSuperuser:{get:()=>e.is_superuser},isActive:{get:()=>e.is_active}}))}}},function(t,e,n){n(5),n(11),n(10),(()=>{const e=n(35),{ArgumentError:r}=n(6);class o{constructor(t){const e={label:null,attributes:{},points:null,outside:null,occluded:null,keyframe:null,group:null,zOrder:null,lock:null,color:null,visibility:null,clientID:t.clientID,serverID:t.serverID,frame:t.frame,objectType:t.objectType,shapeType:t.shapeType,updateFlags:{}};Object.defineProperty(e.updateFlags,"reset",{value:function(){this.label=!1,this.attributes=!1,this.points=!1,this.outside=!1,this.occluded=!1,this.keyframe=!1,this.group=!1,this.zOrder=!1,this.lock=!1,this.color=!1,this.visibility=!1},writable:!1}),Object.defineProperties(this,Object.freeze({updateFlags:{get:()=>e.updateFlags},frame:{get:()=>e.frame},objectType:{get:()=>e.objectType},shapeType:{get:()=>e.shapeType},clientID:{get:()=>e.clientID},serverID:{get:()=>e.serverID},label:{get:()=>e.label,set:t=>{e.updateFlags.label=!0,e.label=t}},color:{get:()=>e.color,set:t=>{e.updateFlags.color=!0,e.color=t}},visibility:{get:()=>e.visibility,set:t=>{e.updateFlags.visibility=!0,e.visibility=t}},points:{get:()=>e.points,set:t=>{if(!Array.isArray(t))throw new r("Points are expected to be an array "+`but got ${"object"==typeof t?t.constructor.name:typeof t}`);e.updateFlags.points=!0,e.points=[...t]}},group:{get:()=>e.group,set:t=>{e.updateFlags.group=!0,e.group=t}},zOrder:{get:()=>e.zOrder,set:t=>{e.updateFlags.zOrder=!0,e.zOrder=t}},outside:{get:()=>e.outside,set:t=>{e.updateFlags.outside=!0,e.outside=t}},keyframe:{get:()=>e.keyframe,set:t=>{e.updateFlags.keyframe=!0,e.keyframe=t}},occluded:{get:()=>e.occluded,set:t=>{e.updateFlags.occluded=!0,e.occluded=t}},lock:{get:()=>e.lock,set:t=>{e.updateFlags.lock=!0,e.lock=t}},attributes:{get:()=>e.attributes,set:t=>{if("object"!=typeof t)throw new r("Attributes are expected to be an object "+`but got ${"object"==typeof t?t.constructor.name:typeof t}`);for(const n of Object.keys(t))e.updateFlags.attributes=!0,e.attributes[n]=t[n]}}})),this.label=t.label,this.group=t.group,this.zOrder=t.zOrder,this.outside=t.outside,this.keyframe=t.keyframe,this.occluded=t.occluded,this.color=t.color,this.lock=t.lock,this.visibility=t.visibility,void 0!==t.points&&(this.points=t.points),void 0!==t.attributes&&(this.attributes=t.attributes),e.updateFlags.reset()}async save(){return await e.apiWrapper.call(this,o.prototype.save)}async delete(t=!1){return await e.apiWrapper.call(this,o.prototype.delete,t)}async up(){return await e.apiWrapper.call(this,o.prototype.up)}async down(){return await e.apiWrapper.call(this,o.prototype.down)}}o.prototype.save.implementation=async function(){return this.hidden&&this.hidden.save?this.hidden.save():this},o.prototype.delete.implementation=async function(t){return!(!this.hidden||!this.hidden.delete)&&this.hidden.delete(t)},o.prototype.up.implementation=async function(){return!(!this.hidden||!this.hidden.up)&&this.hidden.up()},o.prototype.down.implementation=async function(){return!(!this.hidden||!this.hidden.down)&&this.hidden.down()},t.exports=o})()},function(t,e,n){"use strict";n(17)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(t,e,n){"use strict";var r=n(50),o=n(206),i=n(39),a=n(79),s=n(214),c=a.set,u=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var r=n(1),o=n(18);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(1),o=n(22),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports={}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(51),o=n(119),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var r,o,i,a=n(213),s=n(1),c=n(22),u=n(18),l=n(19),f=n(78),p=n(76),h=s.WeakMap;if(a){var d=new h,b=d.get,m=d.has,g=d.set;r=function(t,e){return g.call(d,t,e),e},o=function(t){return b.call(d,t)||{}},i=function(t){return m.call(d,t)}}else{var v=f("state");p[v]=!0,r=function(t,e){return u(t,v,e),e},o=function(t){return l(t,v)?t[v]:{}},i=function(t){return l(t,v)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(1),o=n(81).f,i=n(18),a=n(54),s=n(73),c=n(216),u=n(127);t.exports=function(t,e){var n,l,f,p,h,d=t.target,b=t.global,m=t.stat;if(n=b?r:m?r[d]||s(d,{}):(r[d]||{}).prototype)for(l in e){if(p=e[l],f=t.noTargetGet?(h=o(n,l))&&h.value:n[l],!u(b?l:d+(m?".":"#")+l,t.forced)&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(t.sham||f&&f.sham)&&i(p,"sham",!0),a(n,l,p,t)}}},function(t,e,n){var r=n(27),o=n(215),i=n(75),a=n(50),s=n(118),c=n(19),u=n(117),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var r=n(38).f,o=n(19),i=n(8)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(53);t.exports=r("navigator","userAgent")||""},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(3),o=n(23),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(12),o=n(3),i=n(59);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(43);t.exports=r("native-function-to-string",Function.toString)},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(9),o=n(140),i=n(57),a=n(20);t.exports=function(t,e){for(var n=o(e),s=a.f,c=i.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||s(t,l,c(e,l))}}},function(t,e,n){t.exports=n(0)},function(t,e,n){var r=n(9),o=n(42),i=n(142).indexOf,a=n(62);t.exports=function(t,e){var n,s=o(t),c=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~i(u,n)||u.push(n));return u}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(3),o=/#|\.prototype\./,i=function(t,e){var n=s[a(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";t.exports=i},function(t,e,n){var r=n(21);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(2),o=n(34),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r=n(4);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r,o,i,a=n(0),s=n(3),c=n(23),u=n(47),l=n(98),f=n(59),p=n(65),h=a.location,d=a.setImmediate,b=a.clearImmediate,m=a.process,g=a.MessageChannel,v=a.Dispatch,y=0,w={},x=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},k=function(t){return function(){x(t)}},O=function(t){x(t.data)},S=function(t){a.postMessage(t+"",h.protocol+"//"+h.host)};d&&b||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++y]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(y),y},b=function(t){delete w[t]},"process"==c(m)?r=function(t){m.nextTick(k(t))}:v&&v.now?r=function(t){v.now(k(t))}:g&&!/(iphone|ipod|ipad).*applewebkit/i.test(p)?(i=(o=new g).port2,o.port1.onmessage=O,r=u(i.postMessage,i,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(S)?r="onreadystatechange"in f("script")?function(t){l.appendChild(f("script")).onreadystatechange=function(){l.removeChild(this),x(t)}}:function(t){setTimeout(k(t),0)}:(r=S,a.addEventListener("message",O,!1))),t.exports={set:d,clear:b}},function(t,e,n){var r=n(44);t.exports=r("document","documentElement")},function(t,e,n){"use strict";var r=n(33),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){var r=n(4),o=n(101),i=n(63),a=n(62),s=n(98),c=n(59),u=n(61)("IE_PROTO"),l=function(){},f=function(){var t,e=c("iframe"),n=i.length;for(e.style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),f=t.F;n--;)delete f.prototype[i[n]];return f()};t.exports=Object.create||function(t,e){var n;return null!==t?(l.prototype=r(t),n=new l,l.prototype=null,n[u]=t):n=f(),void 0===e?n:o(n,e)},a[u]=!0},function(t,e,n){var r=n(12),o=n(20),i=n(4),a=n(102);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),s=r.length,c=0;s>c;)o.f(t,n=r[c++],e[n]);return t}},function(t,e,n){var r=n(91),o=n(63);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){"use strict";var r=n(17),o=n(104),i=n(106),a=n(158),s=n(32),c=n(14),u=n(21),l=n(2),f=n(31),p=n(34),h=n(105),d=h.IteratorPrototype,b=h.BUGGY_SAFARI_ITERATORS,m=l("iterator"),g=function(){return this};t.exports=function(t,e,n,l,h,v,y){o(n,e,l);var w,x,k,O=function(t){if(t===h&&A)return A;if(!b&&t in _)return _[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},S=e+" Iterator",j=!1,_=t.prototype,T=_[m]||_["@@iterator"]||h&&_[h],A=!b&&T||O(h),P="Array"==e&&_.entries||T;if(P&&(w=i(P.call(new t)),d!==Object.prototype&&w.next&&(f||i(w)===d||(a?a(w,d):"function"!=typeof w[m]&&c(w,m,g)),s(w,S,!0,!0),f&&(p[S]=g))),"values"==h&&T&&"values"!==T.name&&(j=!0,A=function(){return T.call(this)}),f&&!y||_[m]===A||c(_,m,A),p[e]=A,h)if(x={values:O("values"),keys:v?A:O("keys"),entries:O("entries")},y)for(k in x)!b&&!j&&k in _||u(_,k,x[k]);else r({target:e,proto:!0,forced:b||j},x);return x}},function(t,e,n){"use strict";var r=n(105).IteratorPrototype,o=n(100),i=n(41),a=n(32),s=n(34),c=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,u,!1,!0),s[u]=c,t}},function(t,e,n){"use strict";var r,o,i,a=n(106),s=n(14),c=n(9),u=n(2),l=n(31),f=u("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):p=!0),null==r&&(r={}),l||c(r,f)||s(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){var r=n(9),o=n(36),i=n(61),a=n(157),s=i("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,n){"use strict";var r,o,i=n(167),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,u=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),l=void 0!==/()??/.exec("")[1];(u||l)&&(c=function(t){var e,n,r,o,c=this;return l&&(n=new RegExp("^"+c.source+"$(?!\\s)",i.call(c))),u&&(e=c.lastIndex),r=a.call(c,t),u&&r&&(c.lastIndex=c.global?r.index+r[0].length:e),l&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=c},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,u=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!l){var t=s(p);l=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function b(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||l||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(7),o=n(187),i=n(189),a=n(190),s=n(191),c=n(111);t.exports=function(t){return new Promise((function(e,u){var l=t.data,f=t.headers;r.isFormData(l)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",d=t.auth.password||"";f.Authorization="Basic "+btoa(h+":"+d)}if(p.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};o(e,u,r),p=null}},p.onerror=function(){u(c("Network Error",t,null,p)),p=null},p.ontimeout=function(){u(c("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var b=n(192),m=(t.withCredentials||s(t.url))&&t.xsrfCookieName?b.read(t.xsrfCookieName):void 0;m&&(f[t.xsrfHeaderName]=m)}if("setRequestHeader"in p&&r.forEach(f,(function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)})),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),u(t),p=null)})),void 0===l&&(l=null),p.send(l)}))}},function(t,e,n){"use strict";var r=n(188);t.exports=function(t,e,n,o,i){var a=new Error(t);return r(a,e,n,o,i)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e){t.exports=class{constructor(t,e){Object.defineProperties(this,Object.freeze({label:{get:()=>JSON.parse(JSON.stringify(t))},total:{get:()=>JSON.parse(JSON.stringify(e))}}))}}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(27),o=n(15),i=n(74);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(22);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(16),o=n(209),i=n(77),a=n(76),s=n(124),c=n(74),u=n(78)("IE_PROTO"),l=function(){},f=function(){var t,e=c("iframe"),n=i.length;for(e.style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),f=t.F;n--;)delete f.prototype[i[n]];return f()};t.exports=Object.create||function(t,e){var n;return null!==t?(l.prototype=r(t),n=new l,l.prototype=null,n[u]=t):n=f(),void 0===e?n:o(n,e)},a[u]=!0},function(t,e,n){var r=n(19),o=n(50),i=n(211).indexOf,a=n(76);t.exports=function(t,e){var n,s=o(t),c=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~i(u,n)||u.push(n));return u}},function(t,e,n){var r=n(123),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(53);t.exports=r("document","documentElement")},function(t,e,n){t.exports=n(1)},function(t,e,n){var r=n(51);t.exports=r("native-function-to-string",Function.toString)},function(t,e,n){var r=n(15),o=/#|\.prototype\./,i=function(t,e){var n=s[a(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";t.exports=i},function(t,e,n){"use strict";var r,o,i,a=n(129),s=n(18),c=n(19),u=n(8),l=n(52),f=u("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):p=!0),null==r&&(r={}),l||c(r,f)||s(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){var r=n(19),o=n(130),i=n(78),a=n(221),s=i("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,n){var r=n(116);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(40);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r,o,i,a=n(1),s=n(15),c=n(37),u=n(131),l=n(124),f=n(74),p=n(83),h=a.location,d=a.setImmediate,b=a.clearImmediate,m=a.process,g=a.MessageChannel,v=a.Dispatch,y=0,w={},x=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},k=function(t){return function(){x(t)}},O=function(t){x(t.data)},S=function(t){a.postMessage(t+"",h.protocol+"//"+h.host)};d&&b||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++y]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(y),y},b=function(t){delete w[t]},"process"==c(m)?r=function(t){m.nextTick(k(t))}:v&&v.now?r=function(t){v.now(k(t))}:g&&!/(iphone|ipod|ipad).*applewebkit/i.test(p)?(i=(o=new g).port2,o.port1.onmessage=O,r=u(i.postMessage,i,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(S)?r="onreadystatechange"in f("script")?function(t){l.appendChild(f("script")).onreadystatechange=function(){l.removeChild(this),x(t)}}:function(t){setTimeout(k(t),0)}:(r=S,a.addEventListener("message",O,!1))),t.exports={set:d,clear:b}},function(t,e,n){"use strict";var r=n(40),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";var r=n(17),o=n(33),i=n(36),a=n(3),s=n(248),c=[].sort,u=[1,2,3],l=a((function(){u.sort(void 0)})),f=a((function(){u.sort(null)})),p=s("sort");r({target:"Array",proto:!0,forced:l||!f||p},{sort:function(t){return void 0===t?c.call(i(this)):c.call(i(this),o(t))}})},function(t,e,n){n(5),n(10),(()=>{class e{constructor(t){const e=t.display_name,n=t.format,r=t.handler,o=t.version;Object.defineProperties(this,{name:{get:()=>e},format:{get:()=>n},handler:{get:()=>r},version:{get:()=>o}})}}class n{constructor(t){const e=t.display_name,n=t.format,r=t.handler,o=t.version;Object.defineProperties(this,{name:{get:()=>e},format:{get:()=>n},handler:{get:()=>r},version:{get:()=>o}})}}t.exports={AnnotationFormat:class{constructor(t){const r={created_date:t.created_date,updated_date:t.updated_date,id:t.id,owner:t.owner,name:t.name,handler_file:t.handler_file};r.dumpers=t.dumpers.map(t=>new n(t)),r.loaders=t.loaders.map(t=>new e(t)),Object.defineProperties(this,{id:{get:()=>r.id},owner:{get:()=>r.owner},name:{get:()=>r.name},createdDate:{get:()=>r.created_date},updatedDate:{get:()=>r.updated_date},handlerFile:{get:()=>r.handler_file},loaders:{get:()=>[...r.loaders]},dumpers:{get:()=>[...r.dumpers]}})}},Loader:e,Dumper:n}})()},function(t,e,n){var r=n(3),o=n(2),i=n(31),a=o("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(t,e,n){n(11),t.exports=function(){const t=n(35),e=n(69),r=n(70),o=n(114),{Job:i,Task:a}=n(49),{Attribute:s,Label:c}=n(55),{ShareFileType:u,TaskStatus:l,TaskMode:f,AttributeType:p,ObjectType:h,ObjectShape:d,VisibleState:b,LogType:m}=n(28),{Exception:g,ArgumentError:v,DataError:y,ScriptingError:w,PluginError:x,ServerError:k}=n(6),O=n(251),S=n(66),j={server:{about:async()=>await t.apiWrapper(j.server.about),share:async(e="/")=>await t.apiWrapper(j.server.share,e),formats:async()=>await t.apiWrapper(j.server.formats),register:async(e,n,r,o,i,a)=>await t.apiWrapper(j.server.register,e,n,r,o,i,a),login:async(e,n)=>await t.apiWrapper(j.server.login,e,n),logout:async()=>await t.apiWrapper(j.server.logout),authorized:async()=>await t.apiWrapper(j.server.authorized)},tasks:{get:async(e={})=>await t.apiWrapper(j.tasks.get,e)},jobs:{get:async(e={})=>await t.apiWrapper(j.jobs.get,e)},users:{get:async(e={})=>await t.apiWrapper(j.users.get,e)},plugins:{list:async()=>await t.apiWrapper(j.plugins.list),register:async e=>await t.apiWrapper(j.plugins.register,e)},config:{get backendAPI(){return S.backendAPI},set backendAPI(t){S.backendAPI=t},get proxy(){return S.proxy},set proxy(t){S.proxy=t},get taskID(){return S.taskID},set taskID(t){S.taskID=t},get jobID(){return S.jobID},set jobID(t){S.jobID=t},get clientID(){return S.clientID}},client:{version:`${O.version}`},enums:{ShareFileType:u,TaskStatus:l,TaskMode:f,AttributeType:p,ObjectType:h,ObjectShape:d,VisibleState:b,LogType:m},exceptions:{Exception:g,ArgumentError:v,DataError:y,ScriptingError:w,PluginError:x,ServerError:k},classes:{Task:a,User:e,Job:i,Attribute:s,Label:c,Statistics:o,ObjectState:r}};j.server=Object.freeze(j.server),j.tasks=Object.freeze(j.tasks),j.jobs=Object.freeze(j.jobs),j.users=Object.freeze(j.users),j.plugins=Object.freeze(j.plugins),j.client=Object.freeze(j.client),j.enums=Object.freeze(j.enums);const _=n(252);return Math.clamp=function(t,e,n){return Math.min(Math.max(t,e),n)},Object.freeze(_(j))}()},function(t,e,n){var r=n(0),o=n(60),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,n){var r=n(0),o=n(87),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o.call(i))},function(t,e,n){var r=n(44),o=n(141),i=n(92),a=n(4);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(91),o=n(63).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(42),o=n(45),i=n(143),a=function(t){return function(e,n,a){var s,c=r(e),u=o(c.length),l=i(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r=n(46),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e,n){var r=n(0);t.exports=r.Promise},function(t,e,n){var r=n(3);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){"use strict";var r=n(44),o=n(20),i=n(2),a=n(12),s=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(4),o=n(95),i=n(45),a=n(47),s=n(48),c=n(96),u=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,l,f){var p,h,d,b,m,g,v,y=a(e,n,l?2:1);if(f)p=t;else{if("function"!=typeof(h=s(t)))throw TypeError("Target is not iterable");if(o(h)){for(d=0,b=i(t.length);b>d;d++)if((m=l?y(r(v=t[d])[0],v[1]):y(t[d]))&&m instanceof u)return m;return new u(!1)}p=h.call(t)}for(g=p.next;!(v=g.call(p)).done;)if("object"==typeof(m=c(p,y,v.value,l))&&m&&m instanceof u)return m;return new u(!1)}).stop=function(t){return new u(!0,t)}},function(t,e,n){var r=n(23),o=n(2)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(2)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){var r=n(4),o=n(33),i=n(2)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r,o,i,a,s,c,u,l,f=n(0),p=n(57).f,h=n(23),d=n(97).set,b=n(65),m=f.MutationObserver||f.WebKitMutationObserver,g=f.process,v=f.Promise,y="process"==h(g),w=p(f,"queueMicrotask"),x=w&&w.value;x||(r=function(){var t,e;for(y&&(t=g.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?a():i=void 0,t}}i=void 0,t&&t.enter()},y?a=function(){g.nextTick(r)}:m&&!/(iphone|ipod|ipad).*applewebkit/i.test(b)?(s=!0,c=document.createTextNode(""),new m(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s}):v&&v.resolve?(u=v.resolve(void 0),l=u.then,a=function(){l.call(u,r)}):a=function(){d.call(f,r)}),t.exports=x||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},function(t,e,n){var r=n(4),o=n(13),i=n(99);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){"use strict";var r=n(17),o=n(12),i=n(0),a=n(9),s=n(13),c=n(20).f,u=n(89),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new l(t):void 0===t?l():l(t);return""===t&&(f[e]=!0),e};u(p,l);var h=p.prototype=l.prototype;h.constructor=p;var d=h.toString,b="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;c(h,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=d.call(t);if(a(f,t))return"";var n=b?e.slice(7,-1):e.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},function(t,e,n){var r=n(2),o=n(100),i=n(14),a=r("unscopables"),s=Array.prototype;null==s[a]&&i(s,a,o(null)),t.exports=function(t){s[a][t]=!0}},function(t,e,n){var r=n(3);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(4),o=n(159);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){var r=n(13);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){(function(t,r){var o;
/*!
 * Platform.js <https://mths.be/platform>
 * Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>
 * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <https://mths.be/mit>
 */(function(){"use strict";var i={function:!0,object:!0},a=i[typeof window]&&window||this,s=i[typeof e]&&e,c=i[typeof t]&&t&&!t.nodeType&&t,u=s&&c&&"object"==typeof r&&r;!u||u.global!==u&&u.window!==u&&u.self!==u||(a=u);var l=Math.pow(2,53)-1,f=/\bOpera/,p=Object.prototype,h=p.hasOwnProperty,d=p.toString;function b(t){return(t=String(t)).charAt(0).toUpperCase()+t.slice(1)}function m(t){return t=x(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:b(t)}function g(t,e){for(var n in t)h.call(t,n)&&e(t[n],n,t)}function v(t){return null==t?b(t):d.call(t).slice(8,-1)}function y(t){return String(t).replace(/([ -])(?!$)/g,"$1?")}function w(t,e){var n=null;return function(t,e){var n=-1,r=t?t.length:0;if("number"==typeof r&&r>-1&&r<=l)for(;++n<r;)e(t[n],n,t);else g(t,e)}(t,(function(r,o){n=e(n,r,o,t)})),n}function x(t){return String(t).replace(/^ +| +$/g,"")}var k=function t(e){var n=a,r=e&&"object"==typeof e&&"String"!=v(e);r&&(n=e,e=null);var o=n.navigator||{},i=o.userAgent||"";e||(e=i);var s,c,u,l,p,h=r?!!o.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(d.toString()),b=r?"Object":"ScriptBridgingProxyObject",k=r?"Object":"Environment",O=r&&n.java?"JavaPackage":v(n.java),S=r?"Object":"RuntimeObject",j=/\bJava/.test(O)&&n.java,_=j&&v(n.environment)==k,T=j?"a":"α",A=j?"b":"β",P=n.document||{},E=n.operamini||n.opera,C=f.test(C=r&&E?E["[[Class]]"]:v(E))?C:E=null,I=e,F=[],M=null,N=e==i,$=N&&E&&"function"==typeof E.version&&E.version(),D=w([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(t,n){return t||RegExp("\\b"+(n.pattern||y(n))+"\\b","i").exec(e)&&(n.label||n)})),R=function(t){return w(t,(function(t,n){return t||RegExp("\\b"+(n.pattern||y(n))+"\\b","i").exec(e)&&(n.label||n)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),U=z([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),L=function(t){return w(t,(function(t,n,r){return t||(n[U]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(U)]||RegExp("\\b"+y(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r}))}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),B=function(t){return w(t,(function(t,n){var r=n.pattern||y(n);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=function(t,e,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return e&&n&&/^Win/i.test(t)&&!/^Windows Phone /i.test(t)&&(r=r[/[\d.]+$/.exec(t)])&&(t="Windows "+r),t=String(t),e&&n&&(t=t.replace(RegExp(e,"i"),n)),t=m(t.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(t,r,n.label||n)),t}))}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function z(t){return w(t,(function(t,n){var r=n.pattern||y(n);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=m(t[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t}))}if(D&&(D=[D]),L&&!U&&(U=z([L])),(s=/\bGoogle TV\b/.exec(U))&&(U=s[0]),/\bSimulator\b/i.test(e)&&(U=(U?U+" ":"")+"Simulator"),"Opera Mini"==R&&/\bOPiOS\b/.test(e)&&F.push("running in Turbo/Uncompressed mode"),"IE"==R&&/\blike iPhone OS\b/.test(e)?(L=(s=t(e.replace(/like iPhone OS/,""))).manufacturer,U=s.product):/^iP/.test(U)?(R||(R="Safari"),B="iOS"+((s=/ OS ([\d_]+)/i.exec(e))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"!=R||/buntu/i.test(B)?L&&"Google"!=L&&(/Chrome/.test(R)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(U))||/\bAndroid\b/.test(B)&&/^Chrome/.test(R)&&/\bVersion\//i.test(e)?(R="Android Browser",B=/\bAndroid\b/.test(B)?B:"Android"):"Silk"==R?(/\bMobi/i.test(e)||(B="Android",F.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&F.unshift("accelerated")):"PaleMoon"==R&&(s=/\bFirefox\/([\d.]+)\b/.exec(e))?F.push("identifying as Firefox "+s[1]):"Firefox"==R&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(B||(B="Firefox OS"),U||(U=s[1])):!R||(s=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(R))?(R&&!U&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(s+"/")+8))&&(R=null),(s=U||L||B)&&(U||L||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(B))&&(R=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(B)?B:s)+" Browser")):"Electron"==R&&(s=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&F.push("Chromium "+s):B="Kubuntu",$||($=w(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",y(R),"(?:Firefox|Minefield|NetFront)"],(function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null}))),(s=("iCab"==D&&parseFloat($)>3?"WebKit":/\bOpera\b/.test(R)&&(/\bOPR\b/.test(e)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(D)&&"WebKit"||!D&&/\bMSIE\b/i.test(e)&&("Mac OS"==B?"Tasman":"Trident")||"WebKit"==D&&/\bPlayStation\b(?! Vita\b)/i.test(R)&&"NetFront")&&(D=[s]),"IE"==R&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(R+=" Mobile",B="Windows Phone "+(/\+$/.test(s)?s:s+".x"),F.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(R="IE Mobile",B="Windows Phone 8.x",F.unshift("desktop mode"),$||($=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=R&&"Trident"==D&&(s=/\brv:([\d.]+)/.exec(e))&&(R&&F.push("identifying as "+R+($?" "+$:"")),R="IE",$=s[1]),N){if(l="global",p=null!=(u=n)?typeof u[l]:"number",/^(?:boolean|number|string|undefined)$/.test(p)||"object"==p&&!u[l])v(s=n.runtime)==b?(R="Adobe AIR",B=s.flash.system.Capabilities.os):v(s=n.phantom)==S?(R="PhantomJS",$=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof P.documentMode&&(s=/\bTrident\/(\d+)/i.exec(e))?($=[$,P.documentMode],(s=+s[1]+4)!=$[1]&&(F.push("IE "+$[1]+" mode"),D&&(D[1]=""),$[1]=s),$="IE"==R?String($[1].toFixed(1)):$[0]):"number"==typeof P.documentMode&&/^(?:Chrome|Firefox)\b/.test(R)&&(F.push("masking as "+R+" "+$),R="IE",$="11.0",D=["Trident"],B="Windows");else if(j&&(I=(s=j.lang.System).getProperty("os.arch"),B=B||s.getProperty("os.name")+" "+s.getProperty("os.version")),_){try{$=n.require("ringo/engine").version.join("."),R="RingoJS"}catch(t){(s=n.system)&&s.global.system==n.system&&(R="Narwhal",B||(B=s[0].os||null))}R||(R="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(s=n.process)&&("object"==typeof s.versions&&("string"==typeof s.versions.electron?(F.push("Node "+s.versions.node),R="Electron",$=s.versions.electron):"string"==typeof s.versions.nw&&(F.push("Chromium "+$,"Node "+s.versions.node),R="NW.js",$=s.versions.nw)),R||(R="Node.js",I=s.arch,B=s.platform,$=($=/[\d.]+/.exec(s.version))?$[0]:null));B=B&&m(B)}if($&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec($)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(N&&o.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(M=/b/i.test(s)?"beta":"alpha",$=$.replace(RegExp(s+"\\+?$"),"")+("beta"==M?A:T)+(/\d+\+?/.exec(s)||"")),"Fennec"==R||"Firefox"==R&&/\b(?:Android|Firefox OS)\b/.test(B))R="Firefox Mobile";else if("Maxthon"==R&&$)$=$.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(U))"Xbox 360"==U&&(B=null),"Xbox 360"==U&&/\bIEMobile\b/.test(e)&&F.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(R)&&(!R||U||/Browser|Mobi/.test(R))||"Windows CE"!=B&&!/Mobi/i.test(e))if("IE"==R&&N)try{null===n.external&&F.unshift("platform preview")}catch(t){F.unshift("embedded")}else(/\bBlackBerry\b/.test(U)||/\bBB10\b/.test(e))&&(s=(RegExp(U.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||$)?(B=((s=[s,/BB10/.test(e)])[1]?(U=null,L="BlackBerry"):"Device Software")+" "+s[0],$=null):this!=g&&"Wii"!=U&&(N&&E||/Opera/.test(R)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==R&&/\bOS X (?:\d+\.){2,}/.test(B)||"IE"==R&&(B&&!/^Win/.test(B)&&$>5.5||/\bWindows XP\b/.test(B)&&$>8||8==$&&!/\bTrident\b/.test(e)))&&!f.test(s=t.call(g,e.replace(f,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),f.test(R)?(/\bIE\b/.test(s)&&"Mac OS"==B&&(B=null),s="identify"+s):(s="mask"+s,R=C?m(C.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(B=null),N||($=null)),D=["Presto"],F.push(s));else R+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==R&&"+"==s[1].slice(-1)?(R="WebKit Nightly",M="alpha",$=s[1].slice(0,-1)):$!=s[1]&&$!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||($=null),s[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==D&&(D=["Blink"]),N&&(h||s[1])?(D&&(D[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=D?"27":"28")):(D&&(D[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:"8"),D&&(D[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==R&&(!$||parseInt($)>45)&&($=s)),"Opera"==R&&(s=/\bzbov|zvav$/.exec(B))?(R+=" ",F.unshift("desktop mode"),"zvav"==s?(R+="Mini",$=null):R+="Mobile",B=B.replace(RegExp(" *"+s+"$"),"")):"Safari"==R&&/\bChrome\b/.exec(D&&D[1])&&(F.unshift("desktop mode"),R="Chrome Mobile",$=null,/\bOS X\b/.test(B)?(L="Apple",B="iOS 4.3+"):B=null),$&&0==$.indexOf(s=/[\d.]+$/.exec(B))&&e.indexOf("/"+s+"-")>-1&&(B=x(B.replace(s,""))),D&&!/\b(?:Avant|Nook)\b/.test(R)&&(/Browser|Lunascape|Maxthon/.test(R)||"Safari"!=R&&/^iOS/.test(B)&&/\bSafari\b/.test(D[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(R)&&D[1])&&(s=D[D.length-1])&&F.push(s),F.length&&(F=["("+F.join("; ")+")"]),L&&U&&U.indexOf(L)<0&&F.push("on "+L),U&&F.push((/^on /.test(F[F.length-1])?"":"on ")+U),B&&(s=/ ([\d.+]+)$/.exec(B),c=s&&"/"==B.charAt(B.length-s[0].length-1),B={architecture:32,family:s&&!c?B.replace(s[0],""):B,version:s?s[1]:null,toString:function(){var t=this.version;return this.family+(t&&!c?" "+t:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(I))&&!/\bi686\b/i.test(I)?(B&&(B.architecture=64,B.family=B.family.replace(RegExp(" *"+s),"")),R&&(/\bWOW64\b/i.test(e)||N&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(e))&&F.unshift("32-bit")):B&&/^OS X/.test(B.family)&&"Chrome"==R&&parseFloat($)>=39&&(B.architecture=64),e||(e=null);var q={};return q.description=e,q.layout=D&&D[0],q.manufacturer=L,q.name=R,q.prerelease=M,q.product=U,q.ua=e,q.version=R&&$,q.os=B||{architecture:null,family:null,version:null,toString:function(){return"null"}},q.parse=t,q.toString=function(){return this.description||""},q.version&&F.unshift($),q.name&&F.unshift(R),B&&R&&(B!=String(B).split(" ")[0]||B!=R.split(" ")[0]&&!U)&&F.push(U?"("+B+")":"on "+B),F.length&&(q.description=F.join(" ")),q}();a.platform=k,void 0===(o=function(){return k}.call(e,n,e,t))||(t.exports=o)}).call(this)}).call(this,n(162)(t),n(29))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r,o,i;!function(a,s){"use strict";o=[n(164)],void 0===(i="function"==typeof(r=function(t){var e=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;return{parse:function(t){if(void 0!==t.stacktrace||void 0!==t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(n))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(t.replace(/[\(\)]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(t){return!!t.match(n)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),o=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),i=this.extractLocation(r?r[1]:o.pop()),a=o.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0];return new t({functionName:a,fileName:s,lineNumber:i[1],columnNumber:i[2],source:e})}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(t){return!t.match(r)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new t({functionName:e});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=e.match(n),o=r&&r[1]?r[1]:void 0,i=this.extractLocation(e.replace(n,""));return new t({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:e})}),this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),o=[],i=2,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new t({fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera10:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),o=[],i=0,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new t({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera11:function(n){return n.stack.split("\n").filter((function(t){return!!t.match(e)&&!t.match(/^Error created at/)}),this).map((function(e){var n,r=e.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(n=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new t({functionName:a,args:s,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:e})}),this)}}})?r.apply(e,o):r)||(t.exports=i)}()},function(t,e,n){var r,o,i;!function(n,a){"use strict";o=[],void 0===(i="function"==typeof(r=function(){function t(t){return t.charAt(0).toUpperCase()+t.substring(1)}function e(t){return function(){return this[t]}}var n=["isConstructor","isEval","isNative","isToplevel"],r=["columnNumber","lineNumber"],o=["fileName","functionName","source"],i=n.concat(r,o,["args"]);function a(e){if(e instanceof Object)for(var n=0;n<i.length;n++)e.hasOwnProperty(i[n])&&void 0!==e[i[n]]&&this["set"+t(i[n])](e[i[n]])}a.prototype={getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(t){if(t instanceof a)this.evalOrigin=t;else{if(!(t instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new a(t)}},toString:function(){var t=this.getFileName()||"",e=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?t?"[eval] ("+t+":"+e+":"+n+")":"[eval]:"+e+":"+n:r?r+" ("+t+":"+e+":"+n+")":t+":"+e+":"+n}},a.fromString=function(t){var e=t.indexOf("("),n=t.lastIndexOf(")"),r=t.substring(0,e),o=t.substring(e+1,n).split(","),i=t.substring(n+1);if(0===i.indexOf("@"))var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i,""),c=s[1],u=s[2],l=s[3];return new a({functionName:r,args:o||void 0,fileName:c,lineNumber:u||void 0,columnNumber:l||void 0})};for(var s=0;s<n.length;s++)a.prototype["get"+t(n[s])]=e(n[s]),a.prototype["set"+t(n[s])]=function(t){return function(e){this[t]=Boolean(e)}}(n[s]);for(var c=0;c<r.length;c++)a.prototype["get"+t(r[c])]=e(r[c]),a.prototype["set"+t(r[c])]=function(t){return function(e){if(n=e,isNaN(parseFloat(n))||!isFinite(n))throw new TypeError(t+" must be a Number");var n;this[t]=Number(e)}}(r[c]);for(var u=0;u<o.length;u++)a.prototype["get"+t(o[u])]=e(o[u]),a.prototype["set"+t(o[u])]=function(t){return function(e){this[t]=String(e)}}(o[u]);return a})?r.apply(e,o):r)||(t.exports=i)}()},function(t,e,n){"use strict";var r=n(166),o=n(4),i=n(36),a=n(45),s=n(46),c=n(30),u=n(168),l=n(169),f=Math.max,p=Math.min,h=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n){return[function(n,r){var o=c(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,i){var c=n(e,t,this,i);if(c.done)return c.value;var h=o(t),d=String(this),b="function"==typeof i;b||(i=String(i));var m=h.global;if(m){var g=h.unicode;h.lastIndex=0}for(var v=[];;){var y=l(h,d);if(null===y)break;if(v.push(y),!m)break;""===String(y[0])&&(h.lastIndex=u(d,a(h.lastIndex),g))}for(var w,x="",k=0,O=0;O<v.length;O++){y=v[O];for(var S=String(y[0]),j=f(p(s(y.index),d.length),0),_=[],T=1;T<y.length;T++)_.push(void 0===(w=y[T])?w:String(w));var A=y.groups;if(b){var P=[S].concat(_,j,d);void 0!==A&&P.push(A);var E=String(i.apply(void 0,P))}else E=r(S,d,j,_,A,i);j>=k&&(x+=d.slice(k,j)+E,k=j+S.length)}return x+d.slice(k)}];function r(t,n,r,o,a,s){var c=r+t.length,u=o.length,l=b;return void 0!==a&&(a=i(a),l=d),e.call(s,l,(function(e,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return e;if(l>u){var f=h(l/10);return 0===f?e:f<=u?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):e}s=o[l-1]}return void 0===s?"":s}))}}))},function(t,e,n){"use strict";var r=n(14),o=n(21),i=n(3),a=n(2),s=n(107),c=a("species"),u=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,f){var p=a(t),h=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),d=h&&!i((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[p](""),!e}));if(!h||!d||"replace"===t&&!u||"split"===t&&!l){var b=/./[p],m=n(p,""[t],(function(t,e,n,r,o){return e.exec===s?h&&!o?{done:!0,value:b.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),g=m[0],v=m[1];o(String.prototype,t,g),o(RegExp.prototype,p,2==e?function(t,e){return v.call(t,this,e)}:function(t){return v.call(t,this)}),f&&r(RegExp.prototype[p],"sham",!0)}}},function(t,e,n){"use strict";var r=n(4);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(67).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(23),o=n(107);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e){t.exports="object"==typeof self?self.FormData:window.FormData},function(t,e,n){var r=n(172),o=n(173),i=[n(180)];t.exports=r.createStore(o,i)},function(t,e,n){var r=n(26),o=r.slice,i=r.pluck,a=r.each,s=r.bind,c=r.create,u=r.isList,l=r.isFunction,f=r.isObject;t.exports={createStore:h};var p={version:"2.0.12",enabled:!1,get:function(t,e){var n=this.storage.read(this._namespacePrefix+t);return this._deserialize(n,e)},set:function(t,e){return void 0===e?this.remove(t):(this.storage.write(this._namespacePrefix+t,this._serialize(e)),e)},remove:function(t){this.storage.remove(this._namespacePrefix+t)},each:function(t){var e=this;this.storage.each((function(n,r){t.call(e,e._deserialize(n),(r||"").replace(e._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},createStore:function(){return h.apply(this,arguments)},addPlugin:function(t){this._addPlugin(t)},namespace:function(t){return h(this.storage,this.plugins,t)}};function h(t,e,n){n||(n=""),t&&!u(t)&&(t=[t]),e&&!u(e)&&(e=[e]);var r=n?"__storejs_"+n+"_":"",h=n?new RegExp("^"+r):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var d=c({_namespacePrefix:r,_namespaceRegexp:h,_testStorage:function(t){try{var e="__storejs__test__";t.write(e,e);var n=t.read(e)===e;return t.remove(e),n}catch(t){return!1}},_assignPluginFnProp:function(t,e){var n=this[e];this[e]=function(){var e=o(arguments,0),r=this;function i(){if(n)return a(arguments,(function(t,n){e[n]=t})),n.apply(r,e)}var s=[i].concat(e);return t.apply(r,s)}},_serialize:function(t){return JSON.stringify(t)},_deserialize:function(t,e){if(!t)return e;var n="";try{n=JSON.parse(t)}catch(e){n=t}return void 0!==n?n:e},_addStorage:function(t){this.enabled||this._testStorage(t)&&(this.storage=t,this.enabled=!0)},_addPlugin:function(t){var e=this;if(u(t))a(t,(function(t){e._addPlugin(t)}));else if(!i(this.plugins,(function(e){return t===e}))){if(this.plugins.push(t),!l(t))throw new Error("Plugins must be function values that return objects");var n=t.call(this);if(!f(n))throw new Error("Plugins must return an object of function properties");a(n,(function(n,r){if(!l(n))throw new Error("Bad plugin property: "+r+" from plugin "+t.name+". Plugins should only return functions.");e._assignPluginFnProp(n,r)}))}},addStorage:function(t){!function(){var t="undefined"==typeof console?null:console;t&&(t.warn?t.warn:t.log).apply(t,arguments)}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(t)}},p,{plugins:[]});return d.raw={},a(d,(function(t,e){l(t)&&(d.raw[e]=s(d,t))})),a(t,(function(t){d._addStorage(t)})),a(e,(function(t){d._addPlugin(t)})),d}},function(t,e,n){t.exports=[n(174),n(175),n(176),n(177),n(178),n(179)]},function(t,e,n){var r=n(26).Global;function o(){return r.localStorage}function i(t){return o().getItem(t)}t.exports={name:"localStorage",read:i,write:function(t,e){return o().setItem(t,e)},each:function(t){for(var e=o().length-1;e>=0;e--){var n=o().key(e);t(i(n),n)}},remove:function(t){return o().removeItem(t)},clearAll:function(){return o().clear()}}},function(t,e,n){var r=n(26).Global;t.exports={name:"oldFF-globalStorage",read:function(t){return o[t]},write:function(t,e){o[t]=e},each:i,remove:function(t){return o.removeItem(t)},clearAll:function(){i((function(t,e){delete o[t]}))}};var o=r.globalStorage;function i(t){for(var e=o.length-1;e>=0;e--){var n=o.key(e);t(o[n],n)}}},function(t,e,n){var r=n(26).Global;t.exports={name:"oldIE-userDataStorage",write:function(t,e){if(s)return;var n=u(t);a((function(t){t.setAttribute(n,e),t.save(o)}))},read:function(t){if(s)return;var e=u(t),n=null;return a((function(t){n=t.getAttribute(e)})),n},each:function(t){a((function(e){for(var n=e.XMLDocument.documentElement.attributes,r=n.length-1;r>=0;r--){var o=n[r];t(e.getAttribute(o.name),o.name)}}))},remove:function(t){var e=u(t);a((function(t){t.removeAttribute(e),t.save(o)}))},clearAll:function(){a((function(t){var e=t.XMLDocument.documentElement.attributes;t.load(o);for(var n=e.length-1;n>=0;n--)t.removeAttribute(e[n].name);t.save(o)}))}};var o="storejs",i=r.document,a=function(){if(!i||!i.documentElement||!i.documentElement.addBehavior)return null;var t,e,n;try{(e=new ActiveXObject("htmlfile")).open(),e.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),e.close(),t=e.w.frames[0].document,n=t.createElement("div")}catch(e){n=i.createElement("div"),t=i.body}return function(e){var r=[].slice.call(arguments,0);r.unshift(n),t.appendChild(n),n.addBehavior("#default#userData"),n.load(o),e.apply(this,r),t.removeChild(n)}}(),s=(r.navigator?r.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);var c=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function u(t){return t.replace(/^\d/,"___$&").replace(c,"___")}},function(t,e,n){var r=n(26),o=r.Global,i=r.trim;t.exports={name:"cookieStorage",read:function(t){if(!t||!u(t))return null;var e="(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(e),"$1"))},write:function(t,e){if(!t)return;a.cookie=escape(t)+"="+escape(e)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},each:s,remove:c,clearAll:function(){s((function(t,e){c(e)}))}};var a=o.document;function s(t){for(var e=a.cookie.split(/; ?/g),n=e.length-1;n>=0;n--)if(i(e[n])){var r=e[n].split("="),o=unescape(r[0]);t(unescape(r[1]),o)}}function c(t){t&&u(t)&&(a.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function u(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}},function(t,e,n){var r=n(26).Global;function o(){return r.sessionStorage}function i(t){return o().getItem(t)}t.exports={name:"sessionStorage",read:i,write:function(t,e){return o().setItem(t,e)},each:function(t){for(var e=o().length-1;e>=0;e--){var n=o().key(e);t(i(n),n)}},remove:function(t){return o().removeItem(t)},clearAll:function(){return o().clear()}}},function(t,e){t.exports={name:"memoryStorage",read:function(t){return n[t]},write:function(t,e){n[t]=e},each:function(t){for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},remove:function(t){delete n[t]},clearAll:function(t){n={}}};var n={}},function(t,e,n){t.exports=function(){return n(181),{}}},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(t){return t<10?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,(function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}function str(t,e){var n,r,o,i,a,s=gap,c=e[t];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(t)),"function"==typeof rep&&(c=rep.call(e,t,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,n=0;n<i;n+=1)a[n]=str(n,c)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"==typeof rep[n]&&(o=str(r=rep[n],c))&&a.push(quote(r)+(gap?": ":":")+o);else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(o=str(r,c))&&a.push(quote(r)+(gap?": ":":")+o);return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(t,e){var n,r,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(r=walk(o,n))?o[n]=r:delete o[n]);return reviver.call(t,e,o)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(t,e,n){t.exports=n(183)},function(t,e,n){"use strict";var r=n(7),o=n(108),i=n(185),a=n(68);function s(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var c=s(a);c.Axios=i,c.create=function(t){return s(r.merge(a,t))},c.Cancel=n(113),c.CancelToken=n(198),c.isCancel=n(112),c.all=function(t){return Promise.all(t)},c.spread=n(199),t.exports=c,t.exports.default=c},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var r=n(68),o=n(7),i=n(193),a=n(194);function s(t){this.defaults=t,this.interceptors={request:new i,response:new i}}s.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],(function(t){s.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}})),o.forEach(["post","put","patch"],(function(t){s.prototype[t]=function(e,n,r){return this.request(o.merge(r||{},{method:t,url:e,data:n}))}})),t.exports=s},function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(111);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t}},function(t,e,n){"use strict";var r=n(7);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))})))})),i=a.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){"use strict";var r=n(7),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,a={};return t?(r.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},function(t,e,n){"use strict";var r=n(7);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(7);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(7);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},function(t,e,n){"use strict";var r=n(7),o=n(195),i=n(112),a=n(68),s=n(196),c=n(197);function u(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return u(t),t.baseURL&&!s(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return u(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(u(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(113);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var r=n(17),o=n(201).trim;r({target:"String",proto:!0,forced:n(202)("trim")},{trim:function(){return o(this)}})},function(t,e,n){var r=n(30),o="["+n(115)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e,n){var r=n(3),o=n(115);t.exports=function(t){return r((function(){return!!o[t]()||"​᠎"!="​᠎"[t]()||o[t].name!==t}))}},function(t,e,n){(function(e){n(5),n(11),n(10),(()=>{const r=n(204),o=n(35),i=n(25),{isBrowser:a,isNode:s}=n(245),{Exception:c,ArgumentError:u}=n(6),l={},f={};class p{constructor(t,e,n,r){Object.defineProperties(this,Object.freeze({width:{value:t,writable:!1},height:{value:e,writable:!1},tid:{value:n,writable:!1},number:{value:r,writable:!1}}))}async data(t=(()=>{})){return await o.apiWrapper.call(this,p.prototype.data,t)}}p.prototype.data.implementation=async function(t){return new Promise(async function(e,n){function r(t,n){n===this.number&&e(t.frame(n))}function o(){n(this.number)}if(s)e("Dummy data");else if(a)try{const{provider:n}=l[this.tid],{chunkSize:a}=l[this.tid],s=await n.frame(this.number);if(null===s||"loading"===s){t();const e=parseInt(this.number/a,10)*a,c=(parseInt(this.number/a,10)+1)*a-1,u=Math.floor(this.number/a);null===s&&(n.is_chunk_cached(e,c)?n.requestDecodeBlock(null,e,c,r.bind(this,n),o.bind(this)):i.frames.getData(this.tid,u).then(t=>{n.requestDecodeBlock(t,e,c,r.bind(this,n),o.bind(this))}))}else e(s)}catch(t){n(t instanceof c?t:new c(t.message))}}.bind(this))},t.exports={FrameData:p,getFrame:async function(t,e,n,o,a){if(!(t in l)){const o="video"===n?r.BlockType.TSVIDEO:r.BlockType.ARCHIVE,s={meta:await i.frames.getMeta(t),chunkSize:e,provider:new r.FrameProvider(9,o,e),lastFrameRequest:a};f[t]={},l[t]=s}let s=null;if("interpolation"===o)[s]=l[t].meta;else{if("annotation"!==o)throw new u(`Invalid mode is specified ${o}`);if(a>=l[t].meta.length)throw new u(`Meta information about frame ${a} can't be received from the server`);s=l[t].meta[a]}return l[t].provider.setRenderSize(s.width,s.height),new p(s.width,s.height,t,a)},getRanges:function(t){return t in l?l[t].provider.cachedFrames:[]},getPreview:async function(t){return new Promise(async(n,r)=>{try{const r=await i.frames.getPreview(t);if(s)n(e.Buffer.from(r,"binary").toString("base64"));else if(a){const t=new FileReader;t.onload=()=>{n(t.result)},t.readAsDataURL(r)}}catch(t){r(t)}})}}})()}).call(this,n(29))},function(t,e,n){n(72),n(224),n(226),n(242);const{MP4Reader:r,Bytestream:o}=n(244),i=Object.freeze({TSVIDEO:"tsvideo",ARCHIVE:"archive"});class a{constructor(){this._lock=Promise.resolve()}_acquire(){var t;this._lock=new Promise(e=>{t=e});return t}acquireQueued(){const t=this._lock.then(()=>e),e=this._acquire();return t}}t.exports={FrameProvider:class{constructor(t,e,n){this._frames={},this._memory=Math.max(1,t),this._blocks_ranges=[],this._blocks={},this._blockSize=n,this._running=!1,this._blockType=e,this._currFrame=-1,this._requestedBlockDecode=null,this._width=null,this._height=null,this._decodingBlocks={},this._decodeThreadCount=0,this._timerId=setTimeout(this._worker.bind(this),100),this._mutex=new a}async _worker(){null!=this._requestedBlockDecode&&this._decodeThreadCount<2&&await this.startDecode(),this._timerId=setTimeout(this._worker.bind(this),100)}is_chunk_cached(t,e){return`${t}:${e}`in this._blocks_ranges}async _cleanup(){if(this._blocks_ranges.length>this._memory){const t=this._blocks_ranges.shift(),[e,n]=t.split(":").map(t=>+t);delete this._blocks[e/this._blockSize];for(let t=e;t<=n;t++)delete this._frames[t]}for(let t=0;t<this._blocks_ranges.length;t++){const[e,n]=this._blocks_ranges[t].split(":").map(t=>+t);let r=this._currFrame-2*this._blockSize;if(this._currFrame-2*this._blockSize<n&&this._currFrame-2*this._blockSize>e)for(let t=e;t<=n;t++)delete this._frames[t];if(r=this._currFrame+2*this._blockSize,this._currFrame+2*this._blockSize>e&&this._currFrame+2*this._blockSize<n)for(let t=e;t<=n;t++)delete this._frames[t]}}async requestDecodeBlock(t,e,n,r,o){const i=await this._mutex.acquireQueued();null!=this._requestedBlockDecode&&this._requestedBlockDecode.rejectCallback(),`${e}:${n}`in this._decodingBlocks||(null===t&&(t=this._blocks[Math.floor((e+1)/chunkSize)]),this._requestedBlockDecode={block:t,start:e,end:n,resolveCallback:r,rejectCallback:o}),i()}isRequestExist(){return null!=this._requestedBlockDecode}setRenderSize(t,e){this._width=t,this._height=e}async frame(t){return t in this._frames?(this._currFrame=t,this._frames[t]):null}isNextChunkExists(t){const e=Math.floor(t/this._blockSize)+1;return"loading"===this._blocks[e]||e in this._blocks}setReadyToLoading(t){this._blocks[t]="loading"}cropImage(t,e,n,r,o,i,a){if(r+i===e&&o+a===n)return new Uint8ClampedArray(t);const s=new Uint32Array(t),c=i*a*4,u=new ArrayBuffer(c),l=new Uint32Array(u),f=new Uint8ClampedArray(u);if(e===i)return new Uint8ClampedArray(t,4*o,c);let p=0;for(let t=o;t<a;t++){const n=t*e+r;l.set(s.subarray(n,n+i),p),p+=i}return f}upscale(t,e,n){const r=Math.ceil(this._height/n);if(1===r)return{data:t,width:e,height:n};const o=e*r,i=n*r,a=document.createElement("canvas");a.width=o,a.height=i;const s=a.getContext("2d"),c=s.createImageData(e,n);return c.data.set(new Uint8ClampedArray(t)),s.putImageData(c,0,0),s.scale(r,r),s.drawImage(a,0,0),s.getImageData(0,0,o,i)}async startDecode(){if(this._blockType===i.TSVIDEO){const t=await this._mutex.acquireQueued(),e=this._requestedBlockDecode.start,n=this._requestedBlockDecode.end,i=this._requestedBlockDecode.block;this._blocks_ranges.push(`${e}:${n}`),this._decodingBlocks[`${e}:${n}`]=this._requestedBlockDecode,this._requestedBlockDecode=null;for(let t=e;t<=n;t++)this._frames[t]="loading";this._blocks[Math.floor((e+1)/this._blockSize)]=i,this._cleanup();const a=new Worker("/static/engine/js/Decoder.js");let s=e;const c=performance.now();a.onmessage=t=>{if(t.data.consoleLog)return;const r=this.upscale(t.data.buf,t.data.width,t.data.height);if(console.log(`imData.len: ${r.data.length}; w: ${r.width}; h: ${r.height}`),this._frames[s]=this.cropImage(r.data.buffer,r.width,r.height,0,0,this._width,this._height),this._decodingBlocks[`${e}:${n}`].resolveCallback(s),s===n){const t=performance.now()-c;console.log(`Chunk decode time: ${t}; fps: ${36e3/t}`),this._decodeThreadCount--,delete this._decodingBlocks[`${e}:${n}`],a.terminate()}s++},a.onerror=t=>{console.log(["ERROR: Line ",t.lineno," in ",t.filename,": ",t.message].join("")),a.terminate(),this._decodeThreadCount--,this._decodingBlocks[`${e}:${n}`].rejectCallback(),delete this._decodingBlocks[`${e}:${n}`]},a.postMessage({type:"Broadway.js - Worker init",options:{rgb:!0,reuseMemory:!1}});const u=new r(new o(i));u.read();const l=u.tracks[1],f=u.tracks[1].trak.mdia.minf.stbl.stsd.avc1.avcC,p=f.sps[0],h=f.pps[0];a.postMessage({buf:p,offset:0,length:p.length}),a.postMessage({buf:h,offset:0,length:h.length});for(let t=0;t<l.getSampleCount();t++)l.getSampleNALUnits(t).forEach(t=>{a.postMessage({buf:t,offset:0,length:t.length})});this._decodeThreadCount++,t()}else{const t=await this._mutex.acquireQueued();let e=this._requestedBlockDecode.start,n=this._requestedBlockDecode.end,r=this._requestedBlockDecode.block;this._blocks_ranges.push(`${e}:${n}`),this._decodingBlocks[`${e}:${n}`]=this._requestedBlockDecode,this._requestedBlockDecode=null;const o=new Worker("/static/engine/js/unzip_imgs.js");o.onerror=function(t){console.log(["ERROR: Line ",t.lineno," in ",t.filename,": ",t.message].join("")),this._decodingBlocks[`${e}:${n}`].rejectCallback(),this._decodeThreadCount--},o.postMessage({block:r,start:e,end:n}),this._decodeThreadCount++,o.onmessage=function(t){this._frames[t.data.index]=t.data.data,this._decodingBlocks[`${e}:${n}`].resolveCallback(t.data.index),t.data.isEnd&&(delete this._decodingBlocks[`${e}:${n}`],this._decodeThreadCount--)}.bind(this),t()}}get decodeThreadCount(){return this._decodeThreadCount}get cachedFrames(){return[...this._blocks_ranges].sort((t,e)=>t.split(":")[0]-e.split(":")[0])}},BlockType:i}},function(t,e,n){var r=n(15),o=n(37),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(8),o=n(120),i=n(18),a=r("unscopables"),s=Array.prototype;null==s[a]&&i(s,a,o(null)),t.exports=function(t){s[a][t]=!0}},function(t,e,n){var r=n(1),o=n(73),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,n){var r=n(15);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r=n(27),o=n(38),i=n(16),a=n(210);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),s=r.length,c=0;s>c;)o.f(t,n=r[c++],e[n]);return t}},function(t,e,n){var r=n(121),o=n(77);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(50),o=n(122),i=n(212),a=function(t){return function(e,n,a){var s,c=r(e),u=o(c.length),l=i(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r=n(123),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e,n){var r=n(1),o=n(126),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o.call(i))},function(t,e,n){"use strict";var r=n(80),o=n(220),i=n(129),a=n(222),s=n(82),c=n(18),u=n(54),l=n(8),f=n(52),p=n(39),h=n(128),d=h.IteratorPrototype,b=h.BUGGY_SAFARI_ITERATORS,m=l("iterator"),g=function(){return this};t.exports=function(t,e,n,l,h,v,y){o(n,e,l);var w,x,k,O=function(t){if(t===h&&A)return A;if(!b&&t in _)return _[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},S=e+" Iterator",j=!1,_=t.prototype,T=_[m]||_["@@iterator"]||h&&_[h],A=!b&&T||O(h),P="Array"==e&&_.entries||T;if(P&&(w=i(P.call(new t)),d!==Object.prototype&&w.next&&(f||i(w)===d||(a?a(w,d):"function"!=typeof w[m]&&c(w,m,g)),s(w,S,!0,!0),f&&(p[S]=g))),"values"==h&&T&&"values"!==T.name&&(j=!0,A=function(){return T.call(this)}),f&&!y||_[m]===A||c(_,m,A),p[e]=A,h)if(x={values:O("values"),keys:v?A:O("keys"),entries:O("entries")},y)for(k in x)!b&&!j&&k in _||u(_,k,x[k]);else r({target:e,proto:!0,forced:b||j},x);return x}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(19),o=n(217),i=n(81),a=n(38);t.exports=function(t,e){for(var n=o(e),s=a.f,c=i.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||s(t,l,c(e,l))}}},function(t,e,n){var r=n(53),o=n(218),i=n(219),a=n(16);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(121),o=n(77).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var r=n(128).IteratorPrototype,o=n(120),i=n(75),a=n(82),s=n(39),c=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,u,!1,!0),s[u]=c,t}},function(t,e,n){var r=n(15);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(16),o=n(223);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){var r=n(22);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){"use strict";var r=n(80),o=n(40),i=n(130),a=n(15),s=n(225),c=[].sort,u=[1,2,3],l=a((function(){u.sort(void 0)})),f=a((function(){u.sort(null)})),p=s("sort");r({target:"Array",proto:!0,forced:l||!f||p},{sort:function(t){return void 0===t?c.call(i(this)):c.call(i(this),o(t))}})},function(t,e,n){"use strict";var r=n(15);t.exports=function(t,e){var n=[][t];return!n||!r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){"use strict";var r,o,i,a,s=n(80),c=n(52),u=n(1),l=n(125),f=n(227),p=n(54),h=n(228),d=n(82),b=n(229),m=n(22),g=n(40),v=n(230),y=n(37),w=n(231),x=n(236),k=n(237),O=n(132).set,S=n(238),j=n(239),_=n(240),T=n(133),A=n(241),P=n(83),E=n(79),C=n(127),I=n(8)("species"),F="Promise",M=E.get,N=E.set,$=E.getterFor(F),D=f,R=u.TypeError,U=u.document,L=u.process,B=u.fetch,z=L&&L.versions,q=z&&z.v8||"",G=T.f,W=G,J="process"==y(L),V=!!(U&&U.createEvent&&u.dispatchEvent),H=C(F,(function(){var t=D.resolve(1),e=function(){},n=(t.constructor={})[I]=function(t){t(e,e)};return!((J||"function"==typeof PromiseRejectionEvent)&&(!c||t.finally)&&t.then(e)instanceof n&&0!==q.indexOf("6.6")&&-1===P.indexOf("Chrome/66"))})),X=H||!x((function(t){D.all(t).catch((function(){}))})),K=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},Z=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;S((function(){for(var o=e.value,i=1==e.state,a=0;r.length>a;){var s,c,u,l=r[a++],f=i?l.ok:l.fail,p=l.resolve,h=l.reject,d=l.domain;try{f?(i||(2===e.rejection&&et(t,e),e.rejection=1),!0===f?s=o:(d&&d.enter(),s=f(o),d&&(d.exit(),u=!0)),s===l.promise?h(R("Promise-chain cycle")):(c=K(s))?c.call(s,p,h):p(s)):h(o)}catch(t){d&&!u&&d.exit(),h(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Q(t,e)}))}},Y=function(t,e,n){var r,o;V?((r=U.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},(o=u["on"+t])?o(r):"unhandledrejection"===t&&_("Unhandled promise rejection",n)},Q=function(t,e){O.call(u,(function(){var n,r=e.value;if(tt(e)&&(n=A((function(){J?L.emit("unhandledRejection",r,t):Y("unhandledrejection",t,r)})),e.rejection=J||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){O.call(u,(function(){J?L.emit("rejectionHandled",t):Y("rejectionhandled",t,e.value)}))},nt=function(t,e,n,r){return function(o){t(e,n,o,r)}},rt=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,Z(t,e,!0))},ot=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw R("Promise can't be resolved itself");var o=K(n);o?S((function(){var r={done:!1};try{o.call(n,nt(ot,t,r,e),nt(rt,t,r,e))}catch(n){rt(t,r,n,e)}})):(e.value=n,e.state=1,Z(t,e,!1))}catch(n){rt(t,{done:!1},n,e)}}};H&&(D=function(t){v(this,D,F),g(t),r.call(this);var e=M(this);try{t(nt(ot,this,e),nt(rt,this,e))}catch(t){rt(this,e,t)}},(r=function(t){N(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(D.prototype,{then:function(t,e){var n=$(this),r=G(k(this,D));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=J?L.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Z(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=M(t);this.promise=t,this.resolve=nt(ot,t,e),this.reject=nt(rt,t,e)},T.f=G=function(t){return t===D||t===i?new o(t):W(t)},c||"function"!=typeof f||(a=f.prototype.then,p(f.prototype,"then",(function(t,e){var n=this;return new D((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof B&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return j(D,B.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:H},{Promise:D}),d(D,F,!1,!0),b(F),i=l.Promise,s({target:F,stat:!0,forced:H},{reject:function(t){var e=G(this);return e.reject.call(void 0,t),e.promise}}),s({target:F,stat:!0,forced:c||H},{resolve:function(t){return j(c&&this===i?D:this,t)}}),s({target:F,stat:!0,forced:X},{all:function(t){var e=this,n=G(e),r=n.resolve,o=n.reject,i=A((function(){var n=g(e.resolve),i=[],a=0,s=1;w(t,(function(t){var c=a++,u=!1;i.push(void 0),s++,n.call(e,t).then((function(t){u||(u=!0,i[c]=t,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=G(e),r=n.reject,o=A((function(){var o=g(e.resolve);w(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(1);t.exports=r.Promise},function(t,e,n){var r=n(54);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){"use strict";var r=n(53),o=n(38),i=n(8),a=n(27),s=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(16),o=n(232),i=n(122),a=n(131),s=n(233),c=n(235),u=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,l,f){var p,h,d,b,m,g,v,y=a(e,n,l?2:1);if(f)p=t;else{if("function"!=typeof(h=s(t)))throw TypeError("Target is not iterable");if(o(h)){for(d=0,b=i(t.length);b>d;d++)if((m=l?y(r(v=t[d])[0],v[1]):y(t[d]))&&m instanceof u)return m;return new u(!1)}p=h.call(t)}for(g=p.next;!(v=g.call(p)).done;)if("object"==typeof(m=c(p,y,v.value,l))&&m&&m instanceof u)return m;return new u(!1)}).stop=function(t){return new u(!0,t)}},function(t,e,n){var r=n(8),o=n(39),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r=n(234),o=n(39),i=n(8)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(37),o=n(8)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(16);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(8)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){var r=n(16),o=n(40),i=n(8)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r,o,i,a,s,c,u,l,f=n(1),p=n(81).f,h=n(37),d=n(132).set,b=n(83),m=f.MutationObserver||f.WebKitMutationObserver,g=f.process,v=f.Promise,y="process"==h(g),w=p(f,"queueMicrotask"),x=w&&w.value;x||(r=function(){var t,e;for(y&&(t=g.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?a():i=void 0,t}}i=void 0,t&&t.enter()},y?a=function(){g.nextTick(r)}:m&&!/(iphone|ipod|ipad).*applewebkit/i.test(b)?(s=!0,c=document.createTextNode(""),new m(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s}):v&&v.resolve?(u=v.resolve(void 0),l=u.then,a=function(){l.call(u,r)}):a=function(){d.call(f,r)}),t.exports=x||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},function(t,e,n){var r=n(16),o=n(22),i=n(133);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(1);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var r=n(1),o=n(243),i=n(72),a=n(18),s=n(8),c=s("iterator"),u=s("toStringTag"),l=i.values;for(var f in o){var p=r[f],h=p&&p.prototype;if(h){if(h[c]!==l)try{a(h,c,l)}catch(t){h[c]=l}if(h[u]||a(h,u,f),o[f])for(var d in i)if(h[d]!==i[d])try{a(h,d,i[d])}catch(t){h[d]=i[d]}}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){n(72),t.exports=function(){"use strict";function t(t,e){t||error(e)}var e,n,r=function(){function t(t,e){this.w=t,this.h=e}return t.prototype={toString:function(){return"("+this.w+", "+this.h+")"},getHalfSize:function(){return new r(this.w>>>1,this.h>>>1)},length:function(){return this.w*this.h}},t}(),o=function(){function e(t,e,n){this.bytes=new Uint8Array(t),this.start=e||0,this.pos=this.start,this.end=e+n||this.bytes.length}return e.prototype={get length(){return this.end-this.start},get position(){return this.pos},get remaining(){return this.end-this.pos},readU8Array:function(t){if(this.pos>this.end-t)return null;var e=this.bytes.subarray(this.pos,this.pos+t);return this.pos+=t,e},readU32Array:function(t,e,n){if(e=e||1,this.pos>this.end-t*e*4)return null;if(1==e){for(var r=new Uint32Array(t),o=0;o<t;o++)r[o]=this.readU32();return r}for(r=new Array(t),o=0;o<t;o++){var i=null;if(n){i={};for(var a=0;a<e;a++)i[n[a]]=this.readU32()}else{i=new Uint32Array(e);for(a=0;a<e;a++)i[a]=this.readU32()}r[o]=i}return r},read8:function(){return this.readU8()<<24>>24},readU8:function(){return this.pos>=this.end?null:this.bytes[this.pos++]},read16:function(){return this.readU16()<<16>>16},readU16:function(){if(this.pos>=this.end-1)return null;var t=this.bytes[this.pos+0]<<8|this.bytes[this.pos+1];return this.pos+=2,t},read24:function(){return this.readU24()<<8>>8},readU24:function(){var t=this.pos,e=this.bytes;if(t>this.end-3)return null;var n=e[t+0]<<16|e[t+1]<<8|e[t+2];return this.pos+=3,n},peek32:function(t){var e=this.pos,n=this.bytes;if(e>this.end-4)return null;var r=n[e+0]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3];return t&&(this.pos+=4),r},read32:function(){return this.peek32(!0)},readU32:function(){return this.peek32(!0)>>>0},read4CC:function(){var t=this.pos;if(t>this.end-4)return null;for(var e="",n=0;n<4;n++)e+=String.fromCharCode(this.bytes[t+n]);return this.pos+=4,e},readFP16:function(){return this.read32()/65536},readFP8:function(){return this.read16()/256},readISO639:function(){for(var t=this.readU16(),e="",n=0;n<3;n++){var r=t>>>5*(2-n)&31;e+=String.fromCharCode(r+96)}return e},readUTF8:function(t){for(var e="",n=0;n<t;n++)e+=String.fromCharCode(this.readU8());return e},readPString:function(e){var n=this.readU8();t(n<=e);var r=this.readUTF8(n);return this.reserved(e-n-1,0),r},skip:function(t){this.seek(this.pos+t)},reserved:function(e,n){for(var r=0;r<e;r++)t(this.readU8()==n)},seek:function(t){(t<0||t>this.end)&&error("Index out of bounds (bounds: [0, "+this.end+"], index: "+t+")."),this.pos=t},subStream:function(t,e){return new o(this.bytes.buffer,t,e)}},e}(),i=function(){function e(t){this.stream=t,this.tracks={}}return e.prototype={readBoxes:function(t,e){for(;t.peek32();){var n=this.readBox(t);if(n.type in e){var r=e[n.type];r instanceof Array||(e[n.type]=[r]),e[n.type].push(n)}else e[n.type]=n}},readBox:function(e){var n={offset:e.position};function r(){n.version=e.readU8(),n.flags=e.readU24()}function o(){return n.size-(e.position-n.offset)}function i(){e.skip(o())}var s=function(){var t=e.subStream(e.position,o());this.readBoxes(t,n),e.skip(t.length)}.bind(this);switch(n.size=e.readU32(),n.type=e.read4CC(),n.type){case"ftyp":n.name="File Type Box",n.majorBrand=e.read4CC(),n.minorVersion=e.readU32(),n.compatibleBrands=new Array((n.size-16)/4);for(var c=0;c<n.compatibleBrands.length;c++)n.compatibleBrands[c]=e.read4CC();break;case"moov":n.name="Movie Box",s();break;case"mvhd":n.name="Movie Header Box",r(),t(0==n.version),n.creationTime=e.readU32(),n.modificationTime=e.readU32(),n.timeScale=e.readU32(),n.duration=e.readU32(),n.rate=e.readFP16(),n.volume=e.readFP8(),e.skip(10),n.matrix=e.readU32Array(9),e.skip(24),n.nextTrackId=e.readU32();break;case"trak":n.name="Track Box",s(),this.tracks[n.tkhd.trackId]=new a(this,n);break;case"tkhd":n.name="Track Header Box",r(),t(0==n.version),n.creationTime=e.readU32(),n.modificationTime=e.readU32(),n.trackId=e.readU32(),e.skip(4),n.duration=e.readU32(),e.skip(8),n.layer=e.readU16(),n.alternateGroup=e.readU16(),n.volume=e.readFP8(),e.skip(2),n.matrix=e.readU32Array(9),n.width=e.readFP16(),n.height=e.readFP16();break;case"mdia":n.name="Media Box",s();break;case"mdhd":n.name="Media Header Box",r(),t(0==n.version),n.creationTime=e.readU32(),n.modificationTime=e.readU32(),n.timeScale=e.readU32(),n.duration=e.readU32(),n.language=e.readISO639(),e.skip(2);break;case"hdlr":n.name="Handler Reference Box",r(),e.skip(4),n.handlerType=e.read4CC(),e.skip(12);var u=n.size-32;u>0&&(n.name=e.readUTF8(u));break;case"minf":n.name="Media Information Box",s();break;case"stbl":n.name="Sample Table Box",s();break;case"stsd":n.name="Sample Description Box",r(),n.sd=[];e.readU32();s();break;case"avc1":e.reserved(6,0),n.dataReferenceIndex=e.readU16(),t(0==e.readU16()),t(0==e.readU16()),e.readU32(),e.readU32(),e.readU32(),n.width=e.readU16(),n.height=e.readU16(),n.horizontalResolution=e.readFP16(),n.verticalResolution=e.readFP16(),t(0==e.readU32()),n.frameCount=e.readU16(),n.compressorName=e.readPString(32),n.depth=e.readU16(),t(65535==e.readU16()),s();break;case"mp4a":e.reserved(6,0),n.dataReferenceIndex=e.readU16(),n.version=e.readU16(),e.skip(2),e.skip(4),n.channelCount=e.readU16(),n.sampleSize=e.readU16(),n.compressionId=e.readU16(),n.packetSize=e.readU16(),n.sampleRate=e.readU32()>>>16,t(0==n.version),s();break;case"esds":n.name="Elementary Stream Descriptor",r(),i();break;case"avcC":n.name="AVC Configuration Box",n.configurationVersion=e.readU8(),n.avcProfileIndication=e.readU8(),n.profileCompatibility=e.readU8(),n.avcLevelIndication=e.readU8(),n.lengthSizeMinusOne=3&e.readU8(),t(3==n.lengthSizeMinusOne,"TODO");var l=31&e.readU8();n.sps=[];for(c=0;c<l;c++)n.sps.push(e.readU8Array(e.readU16()));l=31&e.readU8();n.pps=[];for(c=0;c<l;c++)n.pps.push(e.readU8Array(e.readU16()));i();break;case"btrt":n.name="Bit Rate Box",n.bufferSizeDb=e.readU32(),n.maxBitrate=e.readU32(),n.avgBitrate=e.readU32();break;case"stts":n.name="Decoding Time to Sample Box",r(),n.table=e.readU32Array(e.readU32(),2,["count","delta"]);break;case"stss":n.name="Sync Sample Box",r(),n.samples=e.readU32Array(e.readU32());break;case"stsc":n.name="Sample to Chunk Box",r(),n.table=e.readU32Array(e.readU32(),3,["firstChunk","samplesPerChunk","sampleDescriptionId"]);break;case"stsz":n.name="Sample Size Box",r(),n.sampleSize=e.readU32();l=e.readU32();0==n.sampleSize&&(n.table=e.readU32Array(l));break;case"stco":n.name="Chunk Offset Box",r(),n.table=e.readU32Array(e.readU32());break;case"smhd":n.name="Sound Media Header Box",r(),n.balance=e.readFP8(),e.reserved(2,0);break;case"mdat":n.name="Media Data Box",t(n.size>=8,"Cannot parse large media data yet."),n.data=e.readU8Array(o());break;default:i()}return n},read:function(){var t=(new Date).getTime();this.file={},this.readBoxes(this.stream,this.file),console.info("Parsed stream in "+((new Date).getTime()-t)+" ms")},traceSamples:function(){var t=this.tracks[1],e=this.tracks[2];console.info("Video Samples: "+t.getSampleCount()),console.info("Audio Samples: "+e.getSampleCount());for(var n=0,r=0,o=0;o<100;o++){var i=t.sampleToOffset(n),a=e.sampleToOffset(r),s=t.sampleToSize(n,1),c=e.sampleToSize(r,1);i<a?(console.info("V Sample "+n+" Offset : "+i+", Size : "+s),n++):(console.info("A Sample "+r+" Offset : "+a+", Size : "+c),r++)}}},e}(),a=function(){function e(t,e){this.file=t,this.trak=e}return e.prototype={getSampleSizeTable:function(){return this.trak.mdia.minf.stbl.stsz.table},getSampleCount:function(){return this.getSampleSizeTable().length},sampleToSize:function(t,e){for(var n=this.getSampleSizeTable(),r=0,o=t;o<t+e;o++)r+=n[o];return r},sampleToChunk:function(e){var n=this.trak.mdia.minf.stbl.stsc.table;if(1===n.length)return t(1===(i=n[0]).firstChunk),{index:Math.floor(e/i.samplesPerChunk),offset:e%i.samplesPerChunk};for(var r=0,o=0;o<n.length;o++){var i=n[o];if(o>0){var a=n[o-1],s=i.firstChunk-a.firstChunk,c=a.samplesPerChunk*s;if(!(e>=c))return{index:r+Math.floor(e/a.samplesPerChunk),offset:e%a.samplesPerChunk};if(e-=c,o==n.length-1)return{index:r+s+Math.floor(e/i.samplesPerChunk),offset:e%i.samplesPerChunk};r+=s}}t(!1)},chunkToOffset:function(t){return this.trak.mdia.minf.stbl.stco.table[t]},sampleToOffset:function(t){var e=this.sampleToChunk(t);return this.chunkToOffset(e.index)+this.sampleToSize(t-e.offset,e.offset)},timeToSample:function(t){for(var e=this.trak.mdia.minf.stbl.stts.table,n=0,r=0;r<e.length;r++){var o=e[r].count*e[r].delta;if(!(t>=o))return n+Math.floor(t/e[r].delta);t-=o,n+=e[r].count}},getTotalTime:function(){for(var e=this.trak.mdia.minf.stbl.stts.table,n=0,r=0;r<e.length;r++)n+=e[r].count*e[r].delta;return t(this.trak.mdia.mdhd.duration==n),this.trak.mdia.mdhd.duration},getTotalTimeInSeconds:function(){return this.timeToSeconds(this.getTotalTime())},getTimeScale:function(){return this.trak.mdia.mdhd.timeScale},timeToSeconds:function(t){return t/this.getTimeScale()},secondsToTime:function(t){return t*this.getTimeScale()},foo:function(){},getSampleNALUnits:function(t){for(var e=this.file.stream.bytes,n=this.sampleToOffset(t),r=n+this.sampleToSize(t,1),i=[];r-n>0;){var a=new o(e.buffer,n).readU32();i.push(e.subarray(n+4,n+a+4)),n=n+a+4}return i}},e}();e=[],n="zero-timeout-message",window.addEventListener("message",(function(t){t.source==window&&t.data==n&&(t.stopPropagation(),e.length>0&&e.shift()())}),!0),window.setZeroTimeout=function(t){e.push(t),window.postMessage(n,"*")};var s=function(){function t(t,n,r,o){this.stream=t,this.useWorkers=n,this.webgl=r,this.render=o,this.statistics={videoStartTime:0,videoPictureCounter:0,windowStartTime:0,windowPictureCounter:0,fps:0,fpsMin:1e3,fpsMax:-1e3,webGLTextureUploadTime:0},this.onStatisticsUpdated=function(){},this.avc=new Player({useWorker:n,reuseMemory:!0,webgl:r,size:{width:640,height:368}}),this.webgl=this.avc.webgl;var i=this;this.avc.onPictureDecoded=function(){e.call(i)},this.canvas=this.avc.canvas}function e(){var t=this.statistics;t.videoPictureCounter+=1,t.windowPictureCounter+=1;var e=Date.now();t.videoStartTime||(t.videoStartTime=e);var n=e-t.videoStartTime;if(t.elapsed=n/1e3,!(n<1e3))if(t.windowStartTime){if(e-t.windowStartTime>1e3){var r=e-t.windowStartTime,o=t.windowPictureCounter/r*1e3;t.windowStartTime=e,t.windowPictureCounter=0,o<t.fpsMin&&(t.fpsMin=o),o>t.fpsMax&&(t.fpsMax=o),t.fps=o}o=t.videoPictureCounter/n*1e3;t.fpsSinceStart=o,this.onStatisticsUpdated(this.statistics)}else t.windowStartTime=e}return t.prototype={readAll:function(t){console.info("MP4Player::readAll()"),this.stream.readAll(null,function(e){this.reader=new i(new o(e)),this.reader.read();var n=this.reader.tracks[1];this.size=new r(n.trak.tkhd.width,n.trak.tkhd.height),console.info("MP4Player::readAll(), length: "+this.reader.stream.length),t&&t()}.bind(this))},play:function(){var t=this.reader;if(t){var e=t.tracks[1],n=(t.tracks[2],t.tracks[1].trak.mdia.minf.stbl.stsd.avc1.avcC),r=n.sps[0],o=n.pps[0];this.avc.decode(r),this.avc.decode(o);var i=0;setTimeout(function t(){var n=this.avc;e.getSampleNALUnits(i).forEach((function(t){n.decode(t)})),++i<3e3&&setTimeout(t.bind(this),1)}.bind(this),1)}else this.readAll(this.play.bind(this))}},t}(),c=function(){function t(t){var e=t.attributes.src?t.attributes.src.value:void 0,n=(t.attributes.width&&t.attributes.width.value,t.attributes.height&&t.attributes.height.value,document.createElement("div"));n.setAttribute("style","z-index: 100; position: absolute; bottom: 0px; background-color: rgba(0,0,0,0.8); height: 30px; width: 100%; text-align: left;"),this.info=document.createElement("div"),this.info.setAttribute("style","font-size: 14px; font-weight: bold; padding: 6px; color: lime;"),n.appendChild(this.info),t.appendChild(n);var r=!!t.attributes.workers&&"true"==t.attributes.workers.value,o=!!t.attributes.render&&"true"==t.attributes.render.value,i="auto";t.attributes.webgl&&("true"==t.attributes.webgl.value&&(i=!0),"false"==t.attributes.webgl.value&&(i=!1));var a="";a+=r?"worker thread ":"main thread ",this.player=new s(new Stream(e),r,i,o),this.canvas=this.player.canvas,this.canvas.onclick=function(){this.play()}.bind(this),t.appendChild(this.canvas),a+=" - webgl: "+this.player.webgl,this.info.innerHTML="Click canvas to load and play - "+a,this.score=null,this.player.onStatisticsUpdated=function(t){if(t.videoPictureCounter%10==0){var e="";t.fps&&(e+=" fps: "+t.fps.toFixed(2)),t.fpsSinceStart&&(e+=" avg: "+t.fpsSinceStart.toFixed(2));t.videoPictureCounter<1200?this.score=1200-t.videoPictureCounter:1200==t.videoPictureCounter&&(this.score=t.fpsSinceStart.toFixed(2)),this.info.innerHTML=a+e}}.bind(this)}return t.prototype={play:function(){this.player.play()}},t}();return{Size:r,Track:a,MP4Reader:i,MP4Player:s,Bytestream:o,Broadway:c}}()},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="undefined"!=typeof window&&void 0!==window.document,o="object"===("undefined"==typeof self?"undefined":n(self))&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,i=void 0!==t&&null!=t.versions&&null!=t.versions.node;e.isBrowser=r,e.isWebWorker=o,e.isNode=i}).call(this,n(109))},function(t,e,n){n(5),n(11),n(10),(()=>{const e=n(25),r=n(247),o=n(250),{checkObjectType:i}=n(56),{Task:a}=n(49),{Loader:s,Dumper:c}=n(135),{ScriptingError:u,DataError:l,ArgumentError:f}=n(6),p=new WeakMap,h=new WeakMap;function d(t){if("task"===t)return h;if("job"===t)return p;throw new u(`Unknown session type was received ${t}`)}async function b(t){const n=t instanceof a?"task":"job",i=d(n);if(!i.has(t)){const a=await e.annotations.getAnnotations(n,t.id),s="job"===n?t.startFrame:0,c="job"===n?t.stopFrame:t.size-1,u={};for(let e=s;e<=c;e++)u[e]=await t.frames.get(e);const l=new r({labels:t.labels||t.task.labels,startFrame:s,stopFrame:c,frameMeta:u}).import(a),f=new o(a.version,l,t);i.set(t,{collection:l,saver:f})}}t.exports={getAnnotations:async function(t,e,n){return await b(t),d(t instanceof a?"task":"job").get(t).collection.get(e,n)},putAnnotations:function(t,e){const n=d(t instanceof a?"task":"job");if(n.has(t))return n.get(t).collection.put(e);throw new l("Collection has not been initialized yet. Call annotations.get() or annotations.clear(true) before")},saveAnnotations:async function(t,e){const n=d(t instanceof a?"task":"job");n.has(t)&&await n.get(t).saver.save(e)},hasUnsavedChanges:function(t){const e=d(t instanceof a?"task":"job");return!!e.has(t)&&e.get(t).saver.hasUnsavedChanges()},mergeAnnotations:function(t,e){const n=d(t instanceof a?"task":"job");if(n.has(t))return n.get(t).collection.merge(e);throw new l("Collection has not been initialized yet. Call annotations.get() or annotations.clear(true) before")},splitAnnotations:function(t,e,n){const r=d(t instanceof a?"task":"job");if(r.has(t))return r.get(t).collection.split(e,n);throw new l("Collection has not been initialized yet. Call annotations.get() or annotations.clear(true) before")},groupAnnotations:function(t,e,n){const r=d(t instanceof a?"task":"job");if(r.has(t))return r.get(t).collection.group(e,n);throw new l("Collection has not been initialized yet. Call annotations.get() or annotations.clear(true) before")},clearAnnotations:async function(t,e){i("reload",e,"boolean",null);const n=d(t instanceof a?"task":"job");n.has(t)&&n.get(t).collection.clear(),e&&(n.delete(t),await b(t))},annotationsStatistics:function(t){const e=d(t instanceof a?"task":"job");if(e.has(t))return e.get(t).collection.statistics();throw new l("Collection has not been initialized yet. Call annotations.get() or annotations.clear(true) before")},selectObject:function(t,e,n,r){const o=d(t instanceof a?"task":"job");if(o.has(t))return o.get(t).collection.select(e,n,r);throw new l("Collection has not been initialized yet. Call annotations.get() or annotations.clear(true) before")},uploadAnnotations:async function(t,n,r){const o=t instanceof a?"task":"job";if(!(r instanceof s))throw new f("A loader must be instance of Loader class");await e.annotations.uploadAnnotations(o,t.id,n,r.name)},dumpAnnotations:async function(t,n,r){if(!(r instanceof c))throw new f("A dumper must be instance of Dumper class");let o=null;return o="job"===(t instanceof a?"task":"job")?await e.annotations.dumpAnnotations(t.task.id,n,r.name):await e.annotations.dumpAnnotations(t.id,n,r.name)}}})()},function(t,e,n){n(5),n(134),n(10),n(71),(()=>{const{RectangleShape:e,PolygonShape:r,PolylineShape:o,PointsShape:i,RectangleTrack:a,PolygonTrack:s,PolylineTrack:c,PointsTrack:u,Track:l,Shape:f,Tag:p,objectStateFactory:h}=n(249),{checkObjectType:d}=n(56),b=n(114),{Label:m}=n(55),{DataError:g,ArgumentError:v,ScriptingError:y}=n(6),{ObjectShape:w,ObjectType:x}=n(28),k=n(70),O=["#0066FF","#AF593E","#01A368","#FF861F","#ED0A3F","#FF3F34","#76D7EA","#8359A3","#FBE870","#C5E17A","#03BB85","#FFDF00","#8B8680","#0A6B0D","#8FD8D8","#A36F40","#F653A6","#CA3435","#FFCBA4","#FF99CC","#FA9D5A","#FFAE42","#A78B00","#788193","#514E49","#1164B4","#F4FA9F","#FED8B1","#C32148","#01796F","#E90067","#FF91A4","#404E5A","#6CDAE7","#FFC1CC","#006A93","#867200","#E2B631","#6EEB6E","#FFC800","#CC99BA","#FF007C","#BC6CAC","#DCCCD7","#EBE1C2","#A6AAAE","#B99685","#0086A7","#5E4330","#C8A2C8","#708EB3","#BC8777","#B2592D","#497E48","#6A2963","#E6335F","#00755E","#B5A895","#0048ba","#EED9C4","#C88A65","#FF6E4A","#87421F","#B2BEB5","#926F5B","#00B9FB","#6456B7","#DB5079","#C62D42","#FA9C44","#DA8A67","#FD7C6E","#93CCEA","#FCF686","#503E32","#FF5470","#9DE093","#FF7A00","#4F69C6","#A50B5E","#F0E68C","#FDFF00","#F091A9","#FFFF66","#6F9940","#FC74FD","#652DC1","#D6AEDD","#EE34D2","#BB3385","#6B3FA0","#33CC99","#FFDB00","#87FF2A","#6EEB6E","#FFC800","#CC99BA","#7A89B8","#006A93","#867200","#E2B631","#D9D6CF"];function S(t,n,a){const{type:s}=t,c=O[n%O.length];let u=null;switch(s){case"rectangle":u=new e(t,n,c,a);break;case"polygon":u=new r(t,n,c,a);break;case"polyline":u=new o(t,n,c,a);break;case"points":u=new i(t,n,c,a);break;default:throw new g(`An unexpected type of shape "${s}"`)}return u}function j(t,e,n){if(t.shapes.length){const{type:r}=t.shapes[0],o=O[e%O.length];let i=null;switch(r){case"rectangle":i=new a(t,e,o,n);break;case"polygon":i=new s(t,e,o,n);break;case"polyline":i=new c(t,e,o,n);break;case"points":i=new u(t,e,o,n);break;default:throw new g(`An unexpected type of track "${r}"`)}return i}return console.warn("The track without any shapes had been found. It was ignored."),null}t.exports=class{constructor(t){this.startFrame=t.startFrame,this.stopFrame=t.stopFrame,this.frameMeta=t.frameMeta,this.labels=t.labels.reduce((t,e)=>(t[e.id]=e,t),{}),this.shapes={},this.tags={},this.tracks=[],this.objects={},this.count=0,this.flush=!1,this.collectionZ={},this.groups={max:0},this.injection={labels:this.labels,collectionZ:this.collectionZ,groups:this.groups,frameMeta:this.frameMeta}}import(t){for(const e of t.tags){const t=++this.count,n=new p(e,t,this.injection);this.tags[n.frame]=this.tags[n.frame]||[],this.tags[n.frame].push(n),this.objects[t]=n}for(const e of t.shapes){const t=++this.count,n=S(e,t,this.injection);this.shapes[n.frame]=this.shapes[n.frame]||[],this.shapes[n.frame].push(n),this.objects[t]=n}for(const e of t.tracks){const t=++this.count,n=j(e,t,this.injection);n&&(this.tracks.push(n),this.objects[t]=n)}return this}export(){return{tracks:this.tracks.filter(t=>!t.removed).map(t=>t.toJSON()),shapes:Object.values(this.shapes).reduce((t,e)=>(t.push(...e),t),[]).filter(t=>!t.removed).map(t=>t.toJSON()),tags:Object.values(this.tags).reduce((t,e)=>(t.push(...e),t),[]).filter(t=>!t.removed).map(t=>t.toJSON())}}get(t){const{tracks:e}=this,n=this.shapes[t]||[],r=this.tags[t]||[],o=e.concat(n).concat(r).filter(t=>!t.removed),i=[];for(const e of o){const n=e.get(t);if(n.outside&&!n.keyframe)continue;const r=h.call(e,t,n);i.push(r)}return i}merge(t){if(d("shapes for merge",t,null,Array),!t.length)return;const e=t.map(t=>{d("object state",t,null,k);const e=this.objects[t.clientID];if(void 0===e)throw new v("The object has not been saved yet. Call ObjectState.put([state]) before you can merge it");return e}),n={},{label:r,shapeType:o}=t[0];if(!(r.id in this.labels))throw new v(`Unknown label for the task: ${r.id}`);if(!Object.values(w).includes(o))throw new v(`Got unknown shapeType "${o}"`);const i=r.attributes.reduce((t,e)=>(t[e.id]=e,t),{});for(let a=0;a<e.length;a++){const s=e[a],c=t[a];if(c.label.id!==r.id)throw new v(`All shape labels are expected to be ${r.name}, but got ${c.label.name}`);if(c.shapeType!==o)throw new v(`All shapes are expected to be ${o}, but got ${c.shapeType}`);if(s instanceof f){if(s.frame in n&&!n[s.frame].outside)throw new v("Expected only one visible shape per frame");n[s.frame]={type:o,frame:s.frame,points:[...s.points],occluded:s.occluded,zOrder:s.zOrder,outside:!1,attributes:Object.keys(s.attributes).reduce((t,e)=>(e in i&&i[e].mutable&&t.push({spec_id:+e,value:s.attributes[e]}),t),[])},s.frame+1 in n||(n[s.frame+1]=JSON.parse(JSON.stringify(n[s.frame])),n[s.frame+1].outside=!0,n[s.frame+1].frame++)}else{if(!(s instanceof l))throw new v(`Trying to merge unknown object type: ${s.constructor.name}. `+"Only shapes and tracks are expected.");{const t={};for(const e of Object.keys(s.shapes)){const r=s.shapes[e];if(e in n&&!n[e].outside){if(r.outside)continue;throw new v("Expected only one visible shape per frame")}let i=!1;for(const e in r.attributes)e in t&&t[e]===r.attributes[e]||(i=!0,t[e]=r.attributes[e]);n[e]={type:o,frame:+e,points:[...r.points],occluded:r.occluded,outside:r.outside,zOrder:r.zOrder,attributes:i?Object.keys(t).reduce((e,n)=>(e.push({spec_id:+n,value:t[n]}),e),[]):[]}}}}}let a=!1;for(const t of Object.keys(n).sort((t,e)=>+t-+e)){if((a=a||n[t].outside)||!n[t].outside)break;delete n[t]}const s=++this.count,c=j({frame:Math.min.apply(null,Object.keys(n).map(t=>+t)),shapes:Object.values(n),group:0,label_id:r.id,attributes:Object.keys(t[0].attributes).reduce((e,n)=>(i[n].mutable||e.push({spec_id:+n,value:t[0].attributes[n]}),e),[])},s,this.injection);this.tracks.push(c),this.objects[s]=c;for(const t of e)t.removed=!0,"function"==typeof t.resetCache&&t.resetCache()}split(t,e){d("object state",t,null,k),d("frame",e,"integer",null);const n=this.objects[t.clientID];if(void 0===n)throw new v("The object has not been saved yet. Call annotations.put([state]) before");if(t.objectType!==x.TRACK)return;const r=Object.keys(n.shapes).sort((t,e)=>+t-+e);if(e<=+r[0]||e>r[r.length-1])return;const o=n.label.attributes.reduce((t,e)=>(t[e.id]=e,t),{}),i=n.toJSON(),a={type:t.shapeType,points:[...t.points],occluded:t.occluded,outside:t.outside,zOrder:0,attributes:Object.keys(t.attributes).reduce((e,n)=>(o[n].mutable||e.push({spec_id:+n,value:t.attributes[n]}),e),[]),frame:e},s={frame:i.frame,group:0,label_id:i.label_id,attributes:i.attributes,shapes:[]},c=JSON.parse(JSON.stringify(s));c.frame=e,c.shapes.push(JSON.parse(JSON.stringify(a))),i.shapes.map(t=>(delete t.id,t.frame<e?s.shapes.push(JSON.parse(JSON.stringify(t))):t.frame>e&&c.shapes.push(JSON.parse(JSON.stringify(t))),t)),s.shapes.push(a),s.shapes[s.shapes.length-1].outside=!0;let u=++this.count;const l=j(s,u,this.injection);this.tracks.push(l),this.objects[u]=l,u=++this.count;const f=j(c,u,this.injection);this.tracks.push(f),this.objects[u]=f,n.removed=!0,n.resetCache()}group(t,e){d("shapes for group",t,null,Array);const n=t.map(t=>{d("object state",t,null,k);const e=this.objects[t.clientID];if(void 0===e)throw new v("The object has not been saved yet. Call annotations.put([state]) before");return e}),r=e?0:++this.groups.max;for(const t of n)t.group=r,"function"==typeof t.resetCache&&t.resetCache();return r}clear(){this.shapes={},this.tags={},this.tracks=[],this.objects={},this.count=0,this.flush=!0}statistics(){const t={},e={rectangle:{shape:0,track:0},polygon:{shape:0,track:0},polyline:{shape:0,track:0},points:{shape:0,track:0},tags:0,manually:0,interpolated:0,total:0},n=JSON.parse(JSON.stringify(e));for(const n of Object.values(this.labels)){const{name:r}=n;t[r]=JSON.parse(JSON.stringify(e))}for(const e of Object.values(this.objects)){let n=null;if(e instanceof f)n="shape";else if(e instanceof l)n="track";else{if(!(e instanceof p))throw new y(`Unexpected object type: "${n}"`);n="tag"}const r=e.label.name;if("tag"===n)t[r].tags++,t[r].manually++,t[r].total++;else{const{shapeType:o}=e;if(t[r][o][n]++,"track"===n){const n=Object.keys(e.shapes).sort((t,e)=>+t-+e).map(t=>+t);let o=n[0],i=!1;for(const a of n){if(i){const e=a-o-1;t[r].interpolated+=e,t[r].total+=e}i=!e.shapes[a].outside,o=a,i&&(t[r].manually++,t[r].total++)}const a=n[n.length-1];if(a!==this.stopFrame&&!e.shapes[a].outside){const e=this.stopFrame-a;t[r].interpolated+=e,t[r].total+=e}}else t[r].manually++,t[r].total++}}for(const e of Object.keys(t))for(const r of Object.keys(t[e]))if("object"==typeof t[e][r])for(const o of Object.keys(t[e][r]))n[r][o]+=t[e][r][o];else n[r]+=t[e][r];return new b(t,n)}put(t){d("shapes for put",t,null,Array);const e={shapes:[],tracks:[],tags:[]};function n(t,e){const n=+e,r=this.attributes[e];return d("attribute id",n,"integer",null),d("attribute value",r,"string",null),t.push({spec_id:n,value:r}),t}for(const r of t){d("object state",r,null,k),d("state client ID",r.clientID,"undefined",null),d("state frame",r.frame,"integer",null),d("state attributes",r.attributes,null,Object),d("state label",r.label,null,m);const t=Object.keys(r.attributes).reduce(n.bind(r),[]),o=r.label.attributes.reduce((t,e)=>(t[e.id]=e,t),{});if("tag"===r.objectType)e.tags.push({attributes:t,frame:r.frame,label_id:r.label.id,group:0});else{d("state occluded",r.occluded,"boolean",null),d("state points",r.points,null,Array);for(const t of r.points)d("point coordinate",t,"number",null);if(!Object.values(w).includes(r.shapeType))throw new v("Object shape must be one of: "+`${JSON.stringify(Object.values(w))}`);if("shape"===r.objectType)e.shapes.push({attributes:t,frame:r.frame,group:0,label_id:r.label.id,occluded:r.occluded||!1,points:[...r.points],type:r.shapeType,z_order:0});else{if("track"!==r.objectType)throw new v("Object type must be one of: "+`${JSON.stringify(Object.values(x))}`);e.tracks.push({attributes:t.filter(t=>!o[t.spec_id].mutable),frame:r.frame,group:0,label_id:r.label.id,shapes:[{attributes:t.filter(t=>o[t.spec_id].mutable),frame:r.frame,occluded:r.occluded||!1,outside:!1,points:[...r.points],type:r.shapeType,z_order:0}]})}}}this.import(e)}select(t,e,n){d("shapes for select",t,null,Array),d("x coordinate",e,"number",null),d("y coordinate",n,"number",null);let r=null,o=null;for(const i of t){if(d("object state",i,null,k),i.outside)continue;const t=this.objects[i.clientID];if(void 0===t)throw new v("The object has not been saved yet. Call annotations.put([state]) before");const a=t.constructor.distance(i.points,e,n);null!==a&&(null===r||a<r)&&(r=a,o=i)}return{state:o,distance:r}}}})()},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e){var n=[][t];return!n||!r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(5),n(134),n(10),(()=>{const e=n(70),{checkObjectType:r,isEnum:i}=n(56),{ObjectShape:a,ObjectType:s,AttributeType:c,VisibleState:u}=n(28),{DataError:l,ArgumentError:f,ScriptingError:p}=n(6),{Label:h}=n(55);function d(t,n){const r=new e(n);return r.hidden={save:this.save.bind(this,t,r),delete:this.delete.bind(this),up:this.up.bind(this,t,r),down:this.down.bind(this,t,r)},r}function b(t,e){if(t===a.RECTANGLE){if(e.length/2!=2)throw new l(`Rectangle must have 2 points, but got ${e.length/2}`)}else if(t===a.POLYGON){if(e.length/2<3)throw new l(`Polygon must have at least 3 points, but got ${e.length/2}`)}else if(t===a.POLYLINE){if(e.length/2<2)throw new l(`Polyline must have at least 2 points, but got ${e.length/2}`)}else{if(t!==a.POINTS)throw new f(`Unknown value of shapeType has been recieved ${t}`);if(e.length/2<1)throw new l(`Points must have at least 1 points, but got ${e.length/2}`)}}function m(t,e){if(t===a.POINTS)return!0;let n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;for(let t=0;t<e.length-1;t+=2)n=Math.min(n,e[t]),r=Math.max(r,e[t]),o=Math.min(o,e[t+1]),i=Math.max(i,e[t+1]);if(t===a.POLYLINE){return Math.max(r-n,i-o)>=3}return(r-n)*(i-o)>=9}function g(t,e){const{values:n}=e,r=e.inputType;if("string"!=typeof t)throw new f(`Attribute value is expected to be string, but got ${typeof t}`);return r===c.NUMBER?+t>=+n[0]&&+t<=+n[1]&&!((+t-+n[0])%+n[2]):r===c.CHECKBOX?["true","false"].includes(t.toLowerCase()):n.includes(t)}class v{constructor(t,e,n){this.taskLabels=n.labels,this.clientID=e,this.serverID=t.id,this.group=t.group,this.label=this.taskLabels[t.label_id],this.frame=t.frame,this.removed=!1,this.lock=!1,this.attributes=t.attributes.reduce((t,e)=>(t[e.spec_id]=e.value,t),{}),this.appendDefaultAttributes(this.label),n.groups.max=Math.max(n.groups.max,this.group)}appendDefaultAttributes(t){const e=t.attributes;for(const t of e)t.id in this.attributes||(this.attributes[t.id]=t.defaultValue)}delete(t){return this.lock&&!t||(this.removed=!0),!0}}class y extends v{constructor(t,e,n,r){super(t,e,r),this.frameMeta=r.frameMeta,this.collectionZ=r.collectionZ,this.visibility=u.SHAPE,this.color=n,this.shapeType=null}_getZ(t){return this.collectionZ[t]=this.collectionZ[t]||{max:0,min:0},this.collectionZ[t]}save(){throw new p("Is not implemented")}get(){throw new p("Is not implemented")}toJSON(){throw new p("Is not implemented")}up(t,e){const n=this._getZ(t);n.max++,e.zOrder=n.max}down(t,e){const n=this._getZ(t);n.min--,e.zOrder=n.min}}class w extends y{constructor(t,e,n,r){super(t,e,n,r),this.points=t.points,this.occluded=t.occluded,this.zOrder=t.z_order;const o=this._getZ(this.frame);o.max=Math.max(o.max,this.zOrder||0),o.min=Math.min(o.min,this.zOrder||0)}toJSON(){return{type:this.shapeType,clientID:this.clientID,occluded:this.occluded,z_order:this.zOrder,points:[...this.points],attributes:Object.keys(this.attributes).reduce((t,e)=>(t.push({spec_id:e,value:this.attributes[e]}),t),[]),id:this.serverID,frame:this.frame,label_id:this.label.id,group:this.group}}get(t){if(t!==this.frame)throw new p("Got frame is not equal to the frame of the shape");return{objectType:s.SHAPE,shapeType:this.shapeType,clientID:this.clientID,serverID:this.serverID,occluded:this.occluded,lock:this.lock,zOrder:this.zOrder,points:[...this.points],attributes:o({},this.attributes),label:this.label,group:this.group,color:this.color,visibility:this.visibility}}save(t,e){if(t!==this.frame)throw new p("Got frame is not equal to the frame of the shape");if(this.lock&&e.lock)return d.call(this,t,this.get(t));const n=this.get(t),o=e.updateFlags;if(o.label&&(r("label",e.label,null,h),n.label=e.label,n.attributes={},this.appendDefaultAttributes.call(n,n.label)),o.attributes){const t=n.label.attributes.reduce((t,e)=>(t[e.id]=e,t),{});for(const r of Object.keys(e.attributes)){const o=e.attributes[r];if(!(r in t&&g(o,t[r])))throw new f(`Trying to save unknown attribute with id ${r} and value ${o}`);n.attributes[r]=o}}if(o.points){r("points",e.points,null,Array),b(this.shapeType,e.points);const{width:o,height:i}=this.frameMeta[t],a=[];for(let t=0;t<e.points.length-1;t+=2){const n=e.points[t],s=e.points[t+1];r("coordinate",n,"number",null),r("coordinate",s,"number",null),a.push(Math.clamp(n,0,o),Math.clamp(s,0,i))}m(this.shapeType,a)&&(n.points=a)}if(o.occluded&&(r("occluded",e.occluded,"boolean",null),n.occluded=e.occluded),o.group&&(r("group",e.group,"integer",null),n.group=e.group),o.zOrder&&(r("zOrder",e.zOrder,"integer",null),n.zOrder=e.zOrder),o.lock&&(r("lock",e.lock,"boolean",null),n.lock=e.lock),o.color){if(r("color",e.color,"string",null),/^#[0-9A-F]{6}$/i.test(e.color))throw new f(`Got invalid color value: "${e.color}"`);n.color=e.color}if(o.visibility){if(!i.call(u,e.visibility))throw new f(`Got invalid visibility value: "${e.visibility}"`);n.visibility=e.visibility}o.reset();for(const t of Object.keys(n))t in this&&(this[t]=n[t]);return d.call(this,t,this.get(t))}}class x extends y{constructor(t,e,n,r){super(t,e,n,r),this.shapes=t.shapes.reduce((t,e)=>{t[e.frame]={serverID:e.id,occluded:e.occluded,zOrder:e.z_order,points:e.points,outside:e.outside,attributes:e.attributes.reduce((t,e)=>(t[e.spec_id]=e.value,t),{})};const n=this._getZ(e.frame);return n.max=Math.max(n.max,e.z_order),n.min=Math.min(n.min,e.z_order),t},{}),this.cache={}}toJSON(){const t=this.label.attributes.reduce((t,e)=>(t[e.id]=e,t),{});return{clientID:this.clientID,id:this.serverID,frame:this.frame,label_id:this.label.id,group:this.group,attributes:Object.keys(this.attributes).reduce((e,n)=>(t[n].mutable||e.push({spec_id:n,value:this.attributes[n]}),e),[]),shapes:Object.keys(this.shapes).reduce((e,n)=>(e.push({type:this.shapeType,occluded:this.shapes[n].occluded,z_order:this.shapes[n].zOrder,points:[...this.shapes[n].points],outside:this.shapes[n].outside,attributes:Object.keys(this.shapes[n].attributes).reduce((e,r)=>(t[r].mutable&&e.push({spec_id:r,value:this.shapes[n].attributes[r]}),e),[]),id:this.shapes[n].serverID,frame:+n}),e),[])}}get(t){if(!(t in this.cache)){const e=Object.assign({},this.getPosition(t),{attributes:this.getAttributes(t),group:this.group,objectType:s.TRACK,shapeType:this.shapeType,clientID:this.clientID,serverID:this.serverID,lock:this.lock,color:this.color,visibility:this.visibility});this.cache[t]=e}const e=JSON.parse(JSON.stringify(this.cache[t]));return e.label=this.label,e}neighborsFrames(t){const e=Object.keys(this.shapes).map(t=>+t);let n=Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER;for(const o of e){const e=Math.abs(t-o);o<=t&&e<n?n=e:e<r&&(r=e)}return{leftFrame:n===Number.MAX_SAFE_INTEGER?null:t-n,rightFrame:r===Number.MAX_SAFE_INTEGER?null:t+r}}getAttributes(t){const e={};for(const t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e[t]=this.attributes[t]);const n=Object.keys(this.shapes).sort((t,e)=>+t-+e);for(const r of n)if(r<=t){const{attributes:t}=this.shapes[r];for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}save(t,e){if(this.lock&&e.lock)return d.call(this,t,this.get(t));const n=Object.assign(this.get(t));n.attributes=Object.assign(n.attributes),n.points=[...n.points];const o=e.updateFlags;let a=!1;o.label&&(r("label",e.label,null,h),n.label=e.label,n.attributes={},this.appendDefaultAttributes.call(n,n.label));const s=n.label.attributes.reduce((t,e)=>(t[e.id]=e,t),{});if(o.attributes)for(const t of Object.keys(e.attributes)){const r=e.attributes[t];if(!(t in s&&g(r,s[t])))throw new f(`Trying to save unknown attribute with id ${t} and value ${r}`);n.attributes[t]=r}if(o.points){r("points",e.points,null,Array),b(this.shapeType,e.points);const{width:o,height:i}=this.frameMeta[t],s=[];for(let t=0;t<e.points.length-1;t+=2){const n=e.points[t],a=e.points[t+1];r("coordinate",n,"number",null),r("coordinate",a,"number",null),s.push(Math.clamp(n,0,o),Math.clamp(a,0,i))}m(this.shapeType,s)&&(n.points=s,a=!0)}if(o.occluded&&(r("occluded",e.occluded,"boolean",null),n.occluded=e.occluded,a=!0),o.outside&&(r("outside",e.outside,"boolean",null),n.outside=e.outside,a=!0),o.group&&(r("group",e.group,"integer",null),n.group=e.group),o.zOrder&&(r("zOrder",e.zOrder,"integer",null),n.zOrder=e.zOrder,a=!0),o.lock&&(r("lock",e.lock,"boolean",null),n.lock=e.lock),o.color){if(r("color",e.color,"string",null),/^#[0-9A-F]{6}$/i.test(e.color))throw new f(`Got invalid color value: "${e.color}"`);n.color=e.color}if(o.visibility){if(!i.call(u,e.visibility))throw new f(`Got invalid visibility value: "${e.visibility}"`);n.visibility=e.visibility}o.keyframe&&r("keyframe",e.keyframe,"boolean",null);for(const e of Object.keys(n))e in this&&(this[e]=n[e]),this.cache[t][e]=n[e];if(o.attributes)for(const r of Object.keys(n.attributes))s[r].mutable||(this.shapes[t].attributes[r]=e.attributes[r],this.shapes[t].attributes[r]=e.attributes[r]);if(o.label)for(const t of Object.values(this.shapes))t.attributes={};if(o.keyframe&&!e.keyframe){for(const e in this.cache)+e>t&&delete this.cache[e];return this.cache[t].keyframe=!1,delete this.shapes[t],o.reset(),d.call(this,t,this.get(t))}if(a||o.keyframe&&e.keyframe){for(const e in this.cache)+e>t&&delete this.cache[e];if(this.cache[t].keyframe=!0,e.keyframe=!0,this.shapes[t]={frame:t,zOrder:n.zOrder,points:n.points,outside:n.outside,occluded:n.occluded,attributes:{}},o.attributes)for(const r of Object.keys(n.attributes))s[r].mutable&&(this.shapes[t].attributes[r]=e.attributes[r],this.shapes[t].attributes[r]=e.attributes[r])}return o.reset(),d.call(this,t,this.get(t))}getPosition(t){const{leftFrame:e,rightFrame:n}=this.neighborsFrames(t),r=Number.isInteger(n)?this.shapes[n]:null,o=Number.isInteger(e)?this.shapes[e]:null;if(o&&e===t)return{points:[...o.points],occluded:o.occluded,outside:o.outside,zOrder:o.zOrder,keyframe:!0};if(r&&o)return Object.assign({},this.interpolatePosition(o,r,(t-e)/(n-e)),{keyframe:!1});if(r)return{points:[...r.points],occluded:r.occluded,outside:!0,zOrder:0,keyframe:!1};if(o)return{points:[...o.points],occluded:o.occluded,outside:o.outside,zOrder:0,keyframe:!1};throw new p(`No one neightbour frame found for the track with client ID: "${this.id}"`)}delete(t){return this.lock&&!t||(this.removed=!0,this.resetCache()),!0}resetCache(){this.cache={}}}class k extends w{constructor(t,e,n,r){super(t,e,n,r),this.shapeType=a.RECTANGLE,b(this.shapeType,this.points)}static distance(t,e,n){const[r,o,i,a]=t;return e>=r&&e<=i&&n>=o&&n<=a?Math.min.apply(null,[e-r,n-o,i-e,a-n]):null}}class O extends w{constructor(t,e,n,r){super(t,e,n,r)}}class S extends O{constructor(t,e,n,r){super(t,e,n,r),this.shapeType=a.POLYGON,b(this.shapeType,this.points)}static distance(t,e,n){function r(t,r,o,i){return(o-t)*(n-r)-(e-t)*(i-r)}let o=0;const i=[];for(let a=0,s=t.length-2;a<t.length-1;s=a,a+=2){const c=t[s],u=t[s+1],l=t[a],f=t[a+1];u<=n?f>n&&r(c,u,l,f)>0&&o++:f<=n&&r(c,u,l,f)<0&&o--;const p=e-(u-f),h=n-(l-c);(p-c)*(l-p)>=0&&(h-u)*(f-h)>=0?i.push(Math.sqrt(Math.pow(e-p,2)+Math.pow(n-h,2))):i.push(Math.min(Math.sqrt(Math.pow(c-e,2)+Math.pow(u-n,2)),Math.sqrt(Math.pow(l-e,2)+Math.pow(f-n,2))))}return 0!==o?Math.min.apply(null,i):null}}class j extends O{constructor(t,e,n,r){super(t,e,n,r),this.shapeType=a.POLYLINE,b(this.shapeType,this.points)}static distance(t,e,n){const r=[];for(let o=0;o<t.length-2;o+=2){const i=t[o],a=t[o+1],s=t[o+2],c=t[o+3];(e-i)*(s-e)>=0&&(n-a)*(c-n)>=0?r.push(Math.abs((c-a)*e-(s-i)*n+s*a-c*i)/Math.sqrt(Math.pow(c-a,2)+Math.pow(s-i,2))):r.push(Math.min(Math.sqrt(Math.pow(i-e,2)+Math.pow(a-n,2)),Math.sqrt(Math.pow(s-e,2)+Math.pow(c-n,2))))}return Math.min.apply(null,r)}}class _ extends O{constructor(t,e,n,r){super(t,e,n,r),this.shapeType=a.POINTS,b(this.shapeType,this.points)}static distance(t,e,n){const r=[];for(let o=0;o<t.length;o+=2){const i=t[o],a=t[o+1];r.push(Math.sqrt(Math.pow(i-e,2)+Math.pow(a-n,2)))}return Math.min.apply(null,r)}}class T extends x{constructor(t,e,n,r){super(t,e,n,r),this.shapeType=a.RECTANGLE;for(const t of Object.values(this.shapes))b(this.shapeType,t.points)}interpolatePosition(t,e,n){const r=[e.points[0]-t.points[0],e.points[1]-t.points[1],e.points[2]-t.points[2],e.points[3]-t.points[3]];return{points:[t.points[0]+r[0]*n,t.points[1]+r[1]*n,t.points[2]+r[2]*n,t.points[3]+r[3]*n],occluded:t.occluded,outside:t.outside,zOrder:t.zOrder}}}class A extends x{constructor(t,e,n,r){super(t,e,n,r)}interpolatePosition(t,e,n){function r(t){let e=Number.MAX_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;for(let i=0;i<t.length;i+=2)t[i]<e&&(e=t[i]),t[i+1]<n&&(n=t[i+1]),t[i]>r&&(r=t[i]),t[i+1]>o&&(o=t[i+1]);return{xmin:e,ymin:n,xmax:r,ymax:o}}function o(t,e){const n=[],r=e.xmax-e.xmin,o=e.ymax-e.ymin;for(let i=0;i<t.length;i+=2)n.push((t[i]-e.xmin)/r,(t[i+1]-e.ymin)/o);return n}function i(t,e){const n=[],r=e.xmax-e.xmin,o=e.ymax-e.ymin;for(let i=0;i<t.length;i+=2)n.push(t[i]*r+e.xmin,t[i+1]*o+e.ymin);return n}function a(t){const e=[];for(let n=0;n<t.length;n+=2)e.push({x:t[n],y:t[n+1]});return e}function s(t){const e=[];for(const n of t)e.push(n.x,n.y);return e}function c(t,e){function n(t){let e=0;for(let n=1;n<t.length;n+=2){e+=Math.sqrt(Math.pow(t[n].x-t[n-1].x,2)+Math.pow(t[n].y-t[n-1].y,2))}return e||Number.MAX_SAFE_INTEGER}function r(t,e){let n=0;for(let r=1;r<t.length;r+=2){const o=Math.sqrt(Math.pow(t[r].x-t[r-1].x,2)+Math.pow(t[r].y-t[r-1].y,2));n+=Math.pow(o-e,2)}return n}const o=[],i=[],a=function(t,e){const n={};for(let r=0;r<t.length;r++){n[r]=n[r]||{};for(let o=0;o<e.length;o++){const i=t[r].x-e[o].x,a=t[r].y-e[o].y;n[r][o]=Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}return n}(t,e),s=function(t,e,n){const r={};for(const o of t)r[o]=e.concat().sort((t,e)=>n[o][t]-n[o][e]);const o={},i={};let a=0;for(;Object.values(i).length!==t.length;){for(const e of t){if(i[e])continue;const t=r[e][a],s=n[e][t];if(t in o&&o[t].distance>s){const e=o[t].value;delete o[t],delete i[e]}t in o||(o[t]={value:e,distance:s},i[e]=!0)}a++}const s={};for(const t of Object.keys(o))s[o[t].value]={value:t,distance:o[t].distance};return s}(Array.from(t.keys()),Array.from(e.keys()),a),c=(n(e)+n(t))/(e.length+t.length);!function(t,e){for(const n of Object.keys(t))t[n].distance>e&&delete t[n]}(s,c+3*Math.sqrt((r(t,c)+r(e,c))/(t.length+e.length)));for(const t of Object.keys(s))s[t]=s[t].value;const u=this.appendMapping(s,t,e);for(const n of u)o.push(t[n]),i.push(e[s[n]]);return[o,i]}let u=r(t.points),l=r(e.points);(u.xmax-u.xmin<1||l.ymax-l.ymin<1)&&(l=u={xmin:0,xmax:1024,ymin:0,ymax:768});const f=a(o(t.points,u)),p=a(o(e.points,l));let h=[],d=[];if(f.length>p.length){const[t,e]=c.call(this,p,f);h=e,d=t}else{const[t,e]=c.call(this,f,p);h=t,d=e}const b=i(s(h),u),m=i(s(d),l),g=[];for(let t=0;t<b.length;t++)g.push(b[t]+(m[t]-b[t])*n);return{points:g,occluded:t.occluded,outside:t.outside,zOrder:t.zOrder}}appendMapping(t,e,n){const r=Object.values(t).map(t=>+t),o=Object.keys(t).map(t=>+t),i=[];function a(t){let e=t,o=t;if(!r.length)throw new p("Interpolation mapping is empty");for(;!r.includes(e);)--e<0&&(e=n.length-1);for(;!r.includes(o);)++o>=n.length&&(o=0);return[e,o]}function s(t,e,r){const o=[];for(;e!==r;)o.push(n[e]),++e>=n.length&&(e=0);o.push(n[r]);let i=0,a=0,s=!1;for(let e=1;e<o.length;e++){const r=o[e],c=o[e-1],u=Math.sqrt(Math.pow(r.x-c.x,2)+Math.pow(r.y-c.y,2));s||(a+=u),i+=u,n[t]===o[e]&&(s=!0)}return i?a/i:0}for(let c=0;c<n.length;c++){const u=r.indexOf(c);if(-1===u){const[r,o]=a(c),u=s(c,r,o),l=n[r],f=n[o],p={x:l.x+(f.x-l.x)*u,y:l.y+(f.y-l.y)*u};e.push(p),t[e.length-1]=c,i.push(e.length-1)}else i.push(o[u])}return i}}class P extends A{constructor(t,e,n,r){super(t,e,n,r),this.shapeType=a.POLYGON;for(const t of Object.values(this.shapes))b(this.shapeType,t.points)}}class E extends A{constructor(t,e,n,r){super(t,e,n,r),this.shapeType=a.POLYLINE;for(const t of Object.values(this.shapes))b(this.shapeType,t.points)}}class C extends A{constructor(t,e,n,r){super(t,e,n,r),this.shapeType=a.POINTS;for(const t of Object.values(this.shapes))b(this.shapeType,t.points)}}T.distance=k.distance,P.distance=S.distance,E.distance=j.distance,C.distance=_.distance,t.exports={RectangleShape:k,PolygonShape:S,PolylineShape:j,PointsShape:_,RectangleTrack:T,PolygonTrack:P,PolylineTrack:E,PointsTrack:C,Track:x,Shape:w,Tag:class extends v{constructor(t,e,n){super(t,e,n)}toJSON(){return{clientID:this.clientID,id:this.serverID,frame:this.frame,label_id:this.label.id,group:this.group,attributes:Object.keys(this.attributes).reduce((t,e)=>(t.push({spec_id:e,value:this.attributes[e]}),t),[])}}get(t){if(t!==this.frame)throw new p("Got frame is not equal to the frame of the shape");return{objectType:s.TAG,clientID:this.clientID,serverID:this.serverID,lock:this.lock,attributes:Object.assign({},this.attributes),label:this.label,group:this.group}}save(t,e){if(t!==this.frame)throw new p("Got frame is not equal to the frame of the shape");if(this.lock&&e.lock)return d.call(this,t,this.get(t));const n=this.get(t),o=e.updateFlags;if(o.label&&(r("label",e.label,null,h),n.label=e.label,n.attributes={},this.appendDefaultAttributes.call(n,n.label)),o.attributes){const t=n.label.attributes.map(t=>`${t.id}`);for(const r of Object.keys(e.attributes))t.includes(r)&&(n.attributes[r]=e.attributes[r])}o.group&&(r("group",e.group,"integer",null),n.group=e.group),o.lock&&(r("lock",e.lock,"boolean",null),n.lock=e.lock),o.reset();for(const t of Object.keys(n))t in this&&(this[t]=n[t]);return d.call(this,t,this.get(t))}},objectStateFactory:d}})()},function(t,e,n){function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(5),n(11),n(10),(()=>{const e=n(25),{Task:r}=n(49),{ScriptingError:i}="./exceptions";t.exports=class{constructor(t,e,n){this.sessionType=n instanceof r?"task":"job",this.id=n.id,this.version=t,this.collection=e,this.initialObjects={},this.hash=this._getHash();const o=this.collection.export();this._resetState();for(const t of o.shapes)this.initialObjects.shapes[t.id]=t;for(const t of o.tracks)this.initialObjects.tracks[t.id]=t;for(const t of o.tags)this.initialObjects.tags[t.id]=t}_resetState(){this.initialObjects={shapes:{},tracks:{},tags:{}}}_getHash(){const t=this.collection.export();return JSON.stringify(t)}async _request(t,n){return await e.annotations.updateAnnotations(this.sessionType,this.id,t,n)}async _put(t){return await this._request(t,"put")}async _create(t){return await this._request(t,"create")}async _update(t){return await this._request(t,"update")}async _delete(t){return await this._request(t,"delete")}_split(t){const e={created:{shapes:[],tracks:[],tags:[]},updated:{shapes:[],tracks:[],tags:[]},deleted:{shapes:[],tracks:[],tags:[]}};for(const n of Object.keys(t))for(const r of t[n])if(r.id in this.initialObjects[n]){JSON.stringify(r)!==JSON.stringify(this.initialObjects[n][r.id])&&e.updated[n].push(r)}else{if(void 0!==r.id)throw new i(`Id of object is defined "${r.id}"`+"but it absents in initial state");e.created[n].push(r)}const n={shapes:t.shapes.map(t=>+t.id),tracks:t.tracks.map(t=>+t.id),tags:t.tags.map(t=>+t.id)};for(const t of Object.keys(this.initialObjects))for(const r of Object.keys(this.initialObjects[t]))if(!n[t].includes(+r)){const n=this.initialObjects[t][r];e.deleted[t].push(n)}return e}_updateCreatedObjects(t,e){const n=t.tracks.length+t.shapes.length+t.tags.length,r=e.tracks.length+e.shapes.length+e.tags.length;if(r!==n)throw new i("Number of indexes is differed by number of saved objects"+`${r} vs ${n}`);for(const n of Object.keys(e))for(let r=0;r<e[n].length;r++){const o=e[n][r];this.collection.objects[o].serverID=t[n][r].id,"tracks"===n&&this.collection.objects[o].resetCache()}}_receiveIndexes(t){const e={tracks:t.tracks.map(t=>t.clientID),shapes:t.shapes.map(t=>t.clientID),tags:t.tags.map(t=>t.clientID)};return t.tracks.concat(t.shapes).concat(t.tags).map(t=>(delete t.clientID,t)),e}async save(t){"function"!=typeof t&&(t=t=>{console.log(t)});try{const e=this.collection.export(),{flush:n}=this.collection;if(n){t("New objects are being saved..");const n=this._receiveIndexes(e),r=await this._put(o({},e,{version:this.version}));this.version=r.version,this.collection.flush=!1,t("Saved objects are being updated in the client"),this._updateCreatedObjects(r,n),t("Initial state is being updated"),this._resetState();for(const t of Object.keys(this.initialObjects))for(const e of r[t])this.initialObjects[t][e.id]=e}else{const{created:n,updated:r,deleted:i}=this._split(e);t("New objects are being saved..");const a=this._receiveIndexes(n),s=await this._create(o({},n,{version:this.version}));this.version=s.version,t("Saved objects are being updated in the client"),this._updateCreatedObjects(s,a),t("Initial state is being updated");for(const t of Object.keys(this.initialObjects))for(const e of s[t])this.initialObjects[t][e.id]=e;t("Changed objects are being saved.."),this._receiveIndexes(r);const c=await this._update(o({},r,{version:this.version}));this.version=c.version,t("Initial state is being updated");for(const t of Object.keys(this.initialObjects))for(const e of c[t])this.initialObjects[t][e.id]=e;t("Changed objects are being saved.."),this._receiveIndexes(i);const u=await this._delete(o({},i,{version:this.version}));this._version=u.version,t("Initial state is being updated");for(const t of Object.keys(this.initialObjects))for(const e of u[t])delete this.initialObjects[t][e.id]}this.hash=this._getHash(),t("Saving is done")}catch(e){throw t(`Can not save annotations: ${e.message}`),e}}hasUnsavedChanges(){return this._getHash()!==this.hash}}})()},function(t){t.exports=JSON.parse('{"name":"cvat-core.js","version":"0.1.0","description":"Part of Computer Vision Tool which presents an interface for client-side integration","main":"babel.config.js","scripts":{"build":"webpack","test":"jest --config=jest.config.js --coverage","docs":"jsdoc --readme README.md src/*.js -p -c jsdoc.config.js -d docs","coveralls":"cat ./reports/coverage/lcov.info | coveralls"},"author":"Intel","license":"MIT","devDependencies":{"@babel/cli":"^7.4.4","@babel/core":"^7.4.4","@babel/preset-env":"^7.4.4","airbnb":"0.0.2","babel-eslint":"^10.0.1","babel-loader":"^8.0.6","core-js":"^3.0.1","coveralls":"^3.0.5","eslint":"6.1.0","eslint-config-airbnb-base":"14.0.0","eslint-plugin-import":"2.18.2","eslint-plugin-no-unsafe-innerhtml":"^1.0.16","eslint-plugin-no-unsanitized":"^3.0.2","eslint-plugin-security":"^1.4.0","jest":"^24.8.0","jest-junit":"^6.4.0","jsdoc":"^3.6.2","webpack":"^4.31.0","webpack-cli":"^3.3.2"},"dependencies":{"axios":"^0.18.0","browser-or-node":"^1.2.1","error-stack-parser":"^2.0.2","form-data":"^2.5.0","jest-config":"^24.8.0","js-cookie":"^2.2.0","platform":"^1.3.5","store":"^2.0.12"}}')},function(t,e,n){n(5),n(11),n(10),n(253),(()=>{const e=n(35),r=n(25),{isBoolean:o,isInteger:i,isEnum:a,isString:s,checkFilter:c}=n(56),{TaskStatus:u,TaskMode:l}=n(28),f=n(69),{AnnotationFormat:p}=n(135),{ArgumentError:h}=n(6),{Task:d}=n(49);function b(t,e){null!==t.assignee&&([t.assignee]=e.filter(e=>e.id===t.assignee));for(const n of t.segments)for(const t of n.jobs)null!==t.assignee&&([t.assignee]=e.filter(e=>e.id===t.assignee));return null!==t.owner&&([t.owner]=e.filter(e=>e.id===t.owner)),t}t.exports=function(t){return t.plugins.list.implementation=e.list,t.plugins.register.implementation=e.register.bind(t),t.server.about.implementation=async()=>{return await r.server.about()},t.server.share.implementation=async t=>{return await r.server.share(t)},t.server.formats.implementation=async()=>{return(await r.server.formats()).map(t=>new p(t))},t.server.register.implementation=async(t,e,n,o,i,a)=>{await r.server.register(t,e,n,o,i,a)},t.server.login.implementation=async(t,e)=>{await r.server.login(t,e)},t.server.logout.implementation=async()=>{await r.server.logout()},t.server.authorized.implementation=async()=>{return await r.server.authorized()},t.users.get.implementation=async t=>{c(t,{self:o});let e=null;return e=(e="self"in t&&t.self?[e=await r.users.getSelf()]:await r.users.getUsers()).map(t=>new f(t))},t.jobs.get.implementation=async t=>{if(c(t,{taskID:i,jobID:i}),"taskID"in t&&"jobID"in t)throw new h('Only one of fields "taskID" and "jobID" allowed simultaneously');if(!Object.keys(t).length)throw new h("Job filter must not be empty");let e=null;if("taskID"in t)e=await r.tasks.getTasks(`id=${t.taskID}`);else{const n=await r.jobs.getJob(t.jobID);void 0!==n.task_id&&(e=await r.tasks.getTasks(`id=${n.task_id}`))}if(null!==e&&e.length){const n=(await r.users.getUsers()).map(t=>new f(t)),o=new d(b(e[0],n));return t.jobID?o.jobs.filter(e=>e.id===t.jobID):o.jobs}return[]},t.tasks.get.implementation=async t=>{if(c(t,{page:i,name:s,id:i,owner:s,assignee:s,search:s,status:a.bind(u),mode:a.bind(l)}),"search"in t&&Object.keys(t).length>1&&!("page"in t&&2===Object.keys(t).length))throw new h('Do not use the filter field "search" with others');if("id"in t&&Object.keys(t).length>1&&!("page"in t&&2===Object.keys(t).length))throw new h('Do not use the filter field "id" with others');const e=new URLSearchParams;for(const n of["name","owner","assignee","search","status","mode","id","page"])Object.prototype.hasOwnProperty.call(t,n)&&e.set(n,t[n]);const n=(await r.users.getUsers()).map(t=>new f(t)),o=await r.tasks.getTasks(e.toString()),p=o.map(t=>b(t,n)).map(t=>new d(t));return p.count=o.count,p},t}})()},function(t,e,n){"use strict";n(254);var r,o=n(17),i=n(12),a=n(136),s=n(0),c=n(101),u=n(21),l=n(64),f=n(9),p=n(255),h=n(256),d=n(67).codeAt,b=n(258),m=n(32),g=n(259),v=n(24),y=s.URL,w=g.URLSearchParams,x=g.getState,k=v.set,O=v.getterFor("URL"),S=Math.floor,j=Math.pow,_=/[A-Za-z]/,T=/[\d+\-.A-Za-z]/,A=/\d/,P=/^(0x|0X)/,E=/^[0-7]+$/,C=/^\d+$/,I=/^[\dA-Fa-f]+$/,F=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,M=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,N=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,$=/[\u0009\u000A\u000D]/g,D=function(t,e){var n,r,o;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=U(e.slice(1,-1))))return"Invalid host";t.host=n}else if(V(t)){if(e=b(e),F.test(e))return"Invalid host";if(null===(n=R(e)))return"Invalid host";t.host=n}else{if(M.test(e))return"Invalid host";for(n="",r=h(e),o=0;o<r.length;o++)n+=W(r[o],B);t.host=n}},R=function(t){var e,n,r,o,i,a,s,c=t.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(e=c.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(o=c[r]))return t;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=P.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?C:8==i?E:I).test(o))return t;a=parseInt(o,i)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=j(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*j(256,3-r);return s},U=function(t){var e,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,p=function(){return t.charAt(f)};if(":"==p()){if(":"!=t.charAt(1))return;f+=2,l=++u}for(;p();){if(8==u)return;if(":"!=p()){for(e=n=0;n<4&&I.test(p());)e=16*e+parseInt(p(),16),f++,n++;if("."==p()){if(0==n)return;if(f-=n,u>6)return;for(r=0;p();){if(o=null,r>0){if(!("."==p()&&r<4))return;f++}if(!A.test(p()))return;for(;A.test(p());){if(i=parseInt(p(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}c[u]=256*c[u]+o,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==p()){if(f++,!p())return}else if(p())return;c[u++]=e}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c},L=function(t){var e,n,r,o;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=S(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,o=0,i=0;i<8;i++)0!==t[i]?(o>n&&(e=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(e=r,n=o),e}(t),n=0;n<8;n++)o&&0===t[n]||(o&&(o=!1),r===n?(e+=n?":":"::",o=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},B={},z=p({},B,{" ":1,'"':1,"<":1,">":1,"`":1}),q=p({},z,{"#":1,"?":1,"{":1,"}":1}),G=p({},q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),W=function(t,e){var n=d(t,0);return n>32&&n<127&&!f(e,t)?t:encodeURIComponent(t)},J={ftp:21,file:null,http:80,https:443,ws:80,wss:443},V=function(t){return f(J,t.scheme)},H=function(t){return""!=t.username||""!=t.password},X=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},K=function(t,e){var n;return 2==t.length&&_.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},Z=function(t){var e;return t.length>1&&K(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},Y=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&K(e[0],!0)||e.pop()},Q=function(t){return"."===t||"%2e"===t.toLowerCase()},tt={},et={},nt={},rt={},ot={},it={},at={},st={},ct={},ut={},lt={},ft={},pt={},ht={},dt={},bt={},mt={},gt={},vt={},yt={},wt={},xt=function(t,e,n,o){var i,a,s,c,u,l=n||tt,p=0,d="",b=!1,m=!1,g=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(N,"")),e=e.replace($,""),i=h(e);p<=i.length;){switch(a=i[p],l){case tt:if(!a||!_.test(a)){if(n)return"Invalid scheme";l=nt;continue}d+=a.toLowerCase(),l=et;break;case et:if(a&&(T.test(a)||"+"==a||"-"==a||"."==a))d+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";d="",l=nt,p=0;continue}if(n&&(V(t)!=f(J,d)||"file"==d&&(H(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=d,n)return void(V(t)&&J[t.scheme]==t.port&&(t.port=null));d="","file"==t.scheme?l=ht:V(t)&&o&&o.scheme==t.scheme?l=rt:V(t)?l=st:"/"==i[p+1]?(l=ot,p++):(t.cannotBeABaseURL=!0,t.path.push(""),l=vt)}break;case nt:if(!o||o.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==a){t.scheme=o.scheme,t.path=o.path.slice(),t.query=o.query,t.fragment="",t.cannotBeABaseURL=!0,l=wt;break}l="file"==o.scheme?ht:it;continue;case rt:if("/"!=a||"/"!=i[p+1]){l=it;continue}l=ct,p++;break;case ot:if("/"==a){l=ut;break}l=gt;continue;case it:if(t.scheme=o.scheme,a==r)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query;else if("/"==a||"\\"==a&&V(t))l=at;else if("?"==a)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query="",l=yt;else{if("#"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.path.pop(),l=gt;continue}t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query,t.fragment="",l=wt}break;case at:if(!V(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,l=gt;continue}l=ut}else l=ct;break;case st:if(l=ct,"/"!=a||"/"!=d.charAt(p+1))continue;p++;break;case ct:if("/"!=a&&"\\"!=a){l=ut;continue}break;case ut:if("@"==a){b&&(d="%40"+d),b=!0,s=h(d);for(var v=0;v<s.length;v++){var y=s[v];if(":"!=y||g){var w=W(y,G);g?t.password+=w:t.username+=w}else g=!0}d=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&V(t)){if(b&&""==d)return"Invalid authority";p-=h(d).length+1,d="",l=lt}else d+=a;break;case lt:case ft:if(n&&"file"==t.scheme){l=bt;continue}if(":"!=a||m){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&V(t)){if(V(t)&&""==d)return"Invalid host";if(n&&""==d&&(H(t)||null!==t.port))return;if(c=D(t,d))return c;if(d="",l=mt,n)return;continue}"["==a?m=!0:"]"==a&&(m=!1),d+=a}else{if(""==d)return"Invalid host";if(c=D(t,d))return c;if(d="",l=pt,n==ft)return}break;case pt:if(!A.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&V(t)||n){if(""!=d){var x=parseInt(d,10);if(x>65535)return"Invalid port";t.port=V(t)&&x===J[t.scheme]?null:x,d=""}if(n)return;l=mt;continue}return"Invalid port"}d+=a;break;case ht:if(t.scheme="file","/"==a||"\\"==a)l=dt;else{if(!o||"file"!=o.scheme){l=gt;continue}if(a==r)t.host=o.host,t.path=o.path.slice(),t.query=o.query;else if("?"==a)t.host=o.host,t.path=o.path.slice(),t.query="",l=yt;else{if("#"!=a){Z(i.slice(p).join(""))||(t.host=o.host,t.path=o.path.slice(),Y(t)),l=gt;continue}t.host=o.host,t.path=o.path.slice(),t.query=o.query,t.fragment="",l=wt}}break;case dt:if("/"==a||"\\"==a){l=bt;break}o&&"file"==o.scheme&&!Z(i.slice(p).join(""))&&(K(o.path[0],!0)?t.path.push(o.path[0]):t.host=o.host),l=gt;continue;case bt:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&K(d))l=gt;else if(""==d){if(t.host="",n)return;l=mt}else{if(c=D(t,d))return c;if("localhost"==t.host&&(t.host=""),n)return;d="",l=mt}continue}d+=a;break;case mt:if(V(t)){if(l=gt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(l=gt,"/"!=a))continue}else t.fragment="",l=wt;else t.query="",l=yt;break;case gt:if(a==r||"/"==a||"\\"==a&&V(t)||!n&&("?"==a||"#"==a)){if(".."===(u=(u=d).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(Y(t),"/"==a||"\\"==a&&V(t)||t.path.push("")):Q(d)?"/"==a||"\\"==a&&V(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&K(d)&&(t.host&&(t.host=""),d=d.charAt(0)+":"),t.path.push(d)),d="","file"==t.scheme&&(a==r||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",l=yt):"#"==a&&(t.fragment="",l=wt)}else d+=W(a,q);break;case vt:"?"==a?(t.query="",l=yt):"#"==a?(t.fragment="",l=wt):a!=r&&(t.path[0]+=W(a,B));break;case yt:n||"#"!=a?a!=r&&("'"==a&&V(t)?t.query+="%27":t.query+="#"==a?"%23":W(a,B)):(t.fragment="",l=wt);break;case wt:a!=r&&(t.fragment+=W(a,z))}p++}},kt=function(t){var e,n,r=l(this,kt,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(t),s=k(r,{type:"URL"});if(void 0!==o)if(o instanceof kt)e=O(o);else if(n=xt(e={},String(o)))throw TypeError(n);if(n=xt(s,a,null,e))throw TypeError(n);var c=s.searchParams=new w,u=x(c);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(c)||null},i||(r.href=St.call(r),r.origin=jt.call(r),r.protocol=_t.call(r),r.username=Tt.call(r),r.password=At.call(r),r.host=Pt.call(r),r.hostname=Et.call(r),r.port=Ct.call(r),r.pathname=It.call(r),r.search=Ft.call(r),r.searchParams=Mt.call(r),r.hash=Nt.call(r))},Ot=kt.prototype,St=function(){var t=O(this),e=t.scheme,n=t.username,r=t.password,o=t.host,i=t.port,a=t.path,s=t.query,c=t.fragment,u=e+":";return null!==o?(u+="//",H(t)&&(u+=n+(r?":"+r:"")+"@"),u+=L(o),null!==i&&(u+=":"+i)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},jt=function(){var t=O(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&V(t)?e+"://"+L(t.host)+(null!==n?":"+n:""):"null"},_t=function(){return O(this).scheme+":"},Tt=function(){return O(this).username},At=function(){return O(this).password},Pt=function(){var t=O(this),e=t.host,n=t.port;return null===e?"":null===n?L(e):L(e)+":"+n},Et=function(){var t=O(this).host;return null===t?"":L(t)},Ct=function(){var t=O(this).port;return null===t?"":String(t)},It=function(){var t=O(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Ft=function(){var t=O(this).query;return t?"?"+t:""},Mt=function(){return O(this).searchParams},Nt=function(){var t=O(this).fragment;return t?"#"+t:""},$t=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(i&&c(Ot,{href:$t(St,(function(t){var e=O(this),n=String(t),r=xt(e,n);if(r)throw TypeError(r);x(e.searchParams).updateSearchParams(e.query)})),origin:$t(jt),protocol:$t(_t,(function(t){var e=O(this);xt(e,String(t)+":",tt)})),username:$t(Tt,(function(t){var e=O(this),n=h(String(t));if(!X(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=W(n[r],G)}})),password:$t(At,(function(t){var e=O(this),n=h(String(t));if(!X(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=W(n[r],G)}})),host:$t(Pt,(function(t){var e=O(this);e.cannotBeABaseURL||xt(e,String(t),lt)})),hostname:$t(Et,(function(t){var e=O(this);e.cannotBeABaseURL||xt(e,String(t),ft)})),port:$t(Ct,(function(t){var e=O(this);X(e)||(""==(t=String(t))?e.port=null:xt(e,t,pt))})),pathname:$t(It,(function(t){var e=O(this);e.cannotBeABaseURL||(e.path=[],xt(e,t+"",mt))})),search:$t(Ft,(function(t){var e=O(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",xt(e,t,yt)),x(e.searchParams).updateSearchParams(e.query)})),searchParams:$t(Mt),hash:$t(Nt,(function(t){var e=O(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",xt(e,t,wt)):e.fragment=null}))}),u(Ot,"toJSON",(function(){return St.call(this)}),{enumerable:!0}),u(Ot,"toString",(function(){return St.call(this)}),{enumerable:!0}),y){var Dt=y.createObjectURL,Rt=y.revokeObjectURL;Dt&&u(kt,"createObjectURL",(function(t){return Dt.apply(y,arguments)})),Rt&&u(kt,"revokeObjectURL",(function(t){return Rt.apply(y,arguments)}))}m(kt,"URL"),o({global:!0,forced:!a,sham:!i},{URL:kt})},function(t,e,n){"use strict";var r=n(67).charAt,o=n(24),i=n(103),a=o.set,s=o.getterFor("String Iterator");i(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){"use strict";var r=n(12),o=n(3),i=n(102),a=n(92),s=n(84),c=n(36),u=n(85),l=Object.assign;t.exports=!l||o((function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||"abcdefghijklmnopqrst"!=i(l({},e)).join("")}))?function(t,e){for(var n=c(t),o=arguments.length,l=1,f=a.f,p=s.f;o>l;)for(var h,d=u(arguments[l++]),b=f?i(d).concat(f(d)):i(d),m=b.length,g=0;m>g;)h=b[g++],r&&!p.call(d,h)||(n[h]=d[h]);return n}:l},function(t,e,n){"use strict";var r=n(47),o=n(36),i=n(96),a=n(95),s=n(45),c=n(257),u=n(48);t.exports=function(t){var e,n,l,f,p,h=o(t),d="function"==typeof this?this:Array,b=arguments.length,m=b>1?arguments[1]:void 0,g=void 0!==m,v=0,y=u(h);if(g&&(m=r(m,b>2?arguments[2]:void 0,2)),null==y||d==Array&&a(y))for(n=new d(e=s(h.length));e>v;v++)c(n,v,g?m(h[v],v):h[v]);else for(p=(f=y.call(h)).next,n=new d;!(l=p.call(f)).done;v++)c(n,v,g?i(f,m,[l.value,v],!0):l.value);return n.length=v,n}},function(t,e,n){"use strict";var r=n(58),o=n(20),i=n(41);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},function(t,e,n){"use strict";var r=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,c=function(t){return t+22+75*(t<26)},u=function(t,e,n){var r=0;for(t=n?a(t/700):t>>1,t+=a(t/e);t>455;r+=36)t=a(t/35);return a(r+36*t/(t+38))},l=function(t){var e,n,r=[],o=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),n--)}else e.push(o)}return e}(t)).length,l=128,f=0,p=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(s(n));var h=r.length,d=h;for(h&&r.push("-");d<o;){var b=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=l&&n<b&&(b=n);var m=d+1;if(b-l>a((2147483647-f)/m))throw RangeError(i);for(f+=(b-l)*m,l=b,e=0;e<t.length;e++){if((n=t[e])<l&&++f>2147483647)throw RangeError(i);if(n==l){for(var g=f,v=36;;v+=36){var y=v<=p?1:v>=p+26?26:v-p;if(g<y)break;var w=g-y,x=36-y;r.push(s(c(y+w%x))),g=a(w/x)}r.push(s(c(g))),p=u(f,m,d==h),f=0,++d}}++f,++l}return r.join("")};t.exports=function(t){var e,n,i=[],a=t.toLowerCase().replace(o,".").split(".");for(e=0;e<a.length;e++)n=a[e],i.push(r.test(n)?"xn--"+l(n):n);return i.join(".")}},function(t,e,n){"use strict";n(5);var r=n(17),o=n(136),i=n(21),a=n(94),s=n(32),c=n(104),u=n(24),l=n(64),f=n(9),p=n(47),h=n(4),d=n(13),b=n(260),m=n(48),g=n(2)("iterator"),v=u.set,y=u.getterFor("URLSearchParams"),w=u.getterFor("URLSearchParamsIterator"),x=/\+/g,k=Array(4),O=function(t){return k[t-1]||(k[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},S=function(t){try{return decodeURIComponent(t)}catch(e){return t}},j=function(t){var e=t.replace(x," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(O(n--),S);return e}},_=/[!'()~]|%20/g,T={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},A=function(t){return T[t]},P=function(t){return encodeURIComponent(t).replace(_,A)},E=function(t,e){if(e)for(var n,r,o=e.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),t.push({key:j(r.shift()),value:j(r.join("="))}))},C=function(t){this.entries.length=0,E(this.entries,t)},I=function(t,e){if(t<e)throw TypeError("Not enough arguments")},F=c((function(t,e){v(this,{type:"URLSearchParamsIterator",iterator:b(y(t).entries),kind:e})}),"Iterator",(function(){var t=w(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),M=function(){l(this,M,"URLSearchParams");var t,e,n,r,o,i,a,s,c,u=arguments.length>0?arguments[0]:void 0,p=this,g=[];if(v(p,{type:"URLSearchParams",entries:g,updateURL:function(){},updateSearchParams:C}),void 0!==u)if(d(u))if("function"==typeof(t=m(u)))for(n=(e=t.call(u)).next;!(r=n.call(e)).done;){if((a=(i=(o=b(h(r.value))).next).call(o)).done||(s=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");g.push({key:a.value+"",value:s.value+""})}else for(c in u)f(u,c)&&g.push({key:c,value:u[c]+""});else E(g,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},N=M.prototype;a(N,{append:function(t,e){I(arguments.length,2);var n=y(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){I(arguments.length,1);for(var e=y(this),n=e.entries,r=t+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;e.updateURL()},get:function(t){I(arguments.length,1);for(var e=y(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){I(arguments.length,1);for(var e=y(this).entries,n=t+"",r=[],o=0;o<e.length;o++)e[o].key===n&&r.push(e[o].value);return r},has:function(t){I(arguments.length,1);for(var e=y(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){I(arguments.length,1);for(var n,r=y(this),o=r.entries,i=!1,a=t+"",s=e+"",c=0;c<o.length;c++)(n=o[c]).key===a&&(i?o.splice(c--,1):(i=!0,n.value=s));i||o.push({key:a,value:s}),r.updateURL()},sort:function(){var t,e,n,r=y(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(t=i[n],e=0;e<n;e++)if(o[e].key>t.key){o.splice(e,0,t);break}e===n&&o.push(t)}r.updateURL()},forEach:function(t){for(var e,n=y(this).entries,r=p(t,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((e=n[o++]).value,e.key,this)},keys:function(){return new F(this,"keys")},values:function(){return new F(this,"values")},entries:function(){return new F(this,"entries")}},{enumerable:!0}),i(N,g,N.entries),i(N,"toString",(function(){for(var t,e=y(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(P(t.key)+"="+P(t.value));return n.join("&")}),{enumerable:!0}),s(M,"URLSearchParams"),r({global:!0,forced:!o},{URLSearchParams:M}),t.exports={URLSearchParams:M,getState:y}},function(t,e,n){var r=n(4),o=n(48);t.exports=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}}]);
//# sourceMappingURL=static/engine/cvat-core.min.js.map